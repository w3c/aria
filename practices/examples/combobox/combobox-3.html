<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>ARIA Combo Box Example: aria-autocomplete=none aria-activedecendant</title>
    <meta name="generator" content="BBEdit 10.5">
    <link href="../css/core.css" rel="stylesheet">
    <link href="../css/table.css" rel="stylesheet">
    <link href="css/combobox-3.css" rel="stylesheet">
    <script src="../js/examples.js" type="text/javascript"></script>
    <script src="js/combobox-3.js" type="text/javascript"></script> 
  </head>
  <body>
    <main role="main">
      <h1>ARIA Combo Box Example: <code>aria-autocomplete=none</code> using <code>aria-activedecendant</code></h1>
 
      <p> <p> <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#h-combobox">WAI-ARIA 1.1: Combo Box</a></p>
      <ul>
          <li>Allows user to select from a list of US states</li>
      </ul>

      <section id="code-ex-1" aria-labelledby="id_ex_title">
        <h2 id="id_ex_title">Combo Box Example</h2>

        <div id="cb1" 
             class="combobox"
             role="combobox"
             aria-activedecentand="none">
          <input id="cb1-input" class="cb_edit" type="text"
                 aria-autocomplete="none"
                 aria-expanded="flase"
                 aria-haspopup="true" 
                 aria-controls="cb1-listbox"
                 style="float: left;"
          /> 
          <button id="cb1-button" tabindex="-1">
            <img src="./images/button-arrow-down.png" alt="">
          </button>

          <ul id="cb1-listbox" role="listbox" aria-labelledby="mb2">
            <li id="cb1-opt1" role="option" tabindex="-1" aria-selected="false" >Alabama</li>
            <li id="cb1-opt2" role="option" tabindex="-1" aria-selected="false" >Alaska</li>
            <li id="cb1-opt3" role="option" tabindex="-1" aria-selected="false" >American Samoa</li>
            <li id="cb1-opt4" role="option" tabindex="-1" aria-selected="false" >Arizona</li>
            <li id="cb1-opt5" role="option" tabindex="-1" aria-selected="false" >Arkansas</li>
            <li id="cb1-opt6" role="option" tabindex="-1" aria-selected="false" >California</li>
            <li id="cb1-opt7" role="option" tabindex="-1" aria-selected="false" >Colorado</li>
            <li id="cb1-opt8" role="option" tabindex="-1" aria-selected="false" >Connecticut</li>
            <li id="cb1-opt9" role="option" tabindex="-1" aria-selected="false" >Delaware</li>
            <li id="cb1-opt10" role="option" tabindex="-1" aria-selected="false" >District of Columbia</li>
            <li id="cb1-opt11" role="option" tabindex="-1" aria-selected="false" >Florida</li>
            <li id="cb1-opt12" role="option" tabindex="-1" aria-selected="false" >Georgia</li>
            <li id="cb1-opt13" role="option" tabindex="-1" aria-selected="false" >Guam</li>
            <li id="cb1-opt14" role="option" tabindex="-1" aria-selected="false" >Hawaii</li>
            <li id="cb1-opt15" role="option" tabindex="-1" aria-selected="false" >Idaho</li>
            <li id="cb1-opt16" role="option" tabindex="-1" aria-selected="false" >Illinois</li>
            <li id="cb1-opt17" role="option" tabindex="-1" aria-selected="false" >Indiana</li>
            <li id="cb1-opt18" role="option" tabindex="-1" aria-selected="false" >Iowa</li>
            <li id="cb1-opt19" role="option" tabindex="-1" aria-selected="false" >Kansas</li>
            <li id="cb1-opt20" role="option" tabindex="-1" aria-selected="false" >Kentucky</li>
            <li id="cb1-opt21" role="option" tabindex="-1" aria-selected="false" >Louisiana</li>
            <li id="cb1-opt22" role="option" tabindex="-1" aria-selected="false" >Maine</li>
            <li id="cb1-opt23" role="option" tabindex="-1" aria-selected="false" >Maryland</li>
            <li id="cb1-opt24" role="option" tabindex="-1" aria-selected="false" >Massachusetts</li>
            <li id="cb1-opt25" role="option" tabindex="-1" aria-selected="false" >Michigan</li>
            <li id="cb1-opt26" role="option" tabindex="-1" aria-selected="false" >Minnesota</li>
            <li id="cb1-opt27" role="option" tabindex="-1" aria-selected="false" >Mississippi</li>
            <li id="cb1-opt28" role="option" tabindex="-1" aria-selected="false" >Missouri</li>
            <li id="cb1-opt29" role="option" tabindex="-1" aria-selected="false" >Montana</li>
            <li id="cb1-opt30" role="option" tabindex="-1" aria-selected="false" >Nebraska</li>
            <li id="cb1-opt31" role="option" tabindex="-1" aria-selected="false" >Nevada</li>
            <li id="cb1-opt32" role="option" tabindex="-1" aria-selected="false" >New Hampshire</li>
            <li id="cb1-opt33" role="option" tabindex="-1" aria-selected="false" >New Jersey</li>
            <li id="cb1-opt34" role="option" tabindex="-1" aria-selected="false" >New Mexico</li>
            <li id="cb1-opt35" role="option" tabindex="-1" aria-selected="false" >New York</li>
            <li id="cb1-opt36" role="option" tabindex="-1" aria-selected="false" >North Carolina</li>
            <li id="cb1-opt37" role="option" tabindex="-1" aria-selected="false" >North Dakota</li>
            <li id="cb1-opt38" role="option" tabindex="-1" aria-selected="false" >Northern Marianas Islands</li>
            <li id="cb1-opt39" role="option" tabindex="-1" aria-selected="false" >Ohio</li>
            <li id="cb1-opt40" role="option" tabindex="-1" aria-selected="false" >Oklahoma</li>
            <li id="cb1-opt41" role="option" tabindex="-1" aria-selected="false" >Oregon</li>
            <li id="cb1-opt42" role="option" tabindex="-1" aria-selected="false" >Pennsylvania</li>
            <li id="cb1-opt43" role="option" tabindex="-1" aria-selected="false" >Puerto Rico</li>
            <li id="cb1-opt44" role="option" tabindex="-1" aria-selected="false" >Rhode Island</li>
            <li id="cb1-opt45" role="option" tabindex="-1" aria-selected="false" >South Carolina</li>
            <li id="cb1-opt46" role="option" tabindex="-1" aria-selected="false" >South Dakota</li>
            <li id="cb1-opt47" role="option" tabindex="-1" aria-selected="false" >Tennessee</li>
            <li id="cb1-opt48" role="option" tabindex="-1" aria-selected="false" >Texas</li>
            <li id="cb1-opt49" role="option" tabindex="-1" aria-selected="false" >Utah</li>
            <li id="cb1-opt50" role="option" tabindex="-1" aria-selected="false" >Vermont</li>
            <li id="cb1-opt51" role="option" tabindex="-1" aria-selected="false" >Virginia</li>
            <li id="cb1-opt52" role="option" tabindex="-1" aria-selected="false" >Virgin Islands</li>
            <li id="cb1-opt53" role="option" tabindex="-1" aria-selected="false" >Washington</li>
            <li id="cb1-opt54" role="option" tabindex="-1" aria-selected="false" >West Virginia</li>
            <li id="cb1-opt55" role="option" tabindex="-1" aria-selected="false" >Wisconsin</li>
            <li id="cb1-opt56" role="option" tabindex="-1" aria-selected="false" >Wyoming</li>
          </ul>
        </div>
      </section>
      
      
      <section aria-labelledby="id_a11yfeature">
        <h2 id="id_a11yfeature">Accessibility Features</h2>
        <h3> Static properties</h3>
        <ul>
          <li>The <code>role=combobox</code> on the <code>div</code> element containing the <code>input[type=text]</code> identifies the input as a combobox.</li>
          <li>The <code>aria-autocomplete="none"</code> on the <code>input</code> element identifies that the input will not autocomplete</li>
          <li>The <code>aria-haspopup="true"</code> attribute on the <code>input[type=text]</code> element identifies that there is a listbox or dialog associated with the input.</li>
          <li>The <code>aria-controls</code> attribute on the <code>input</code> element idenfities that the listbox that will be opened when the input is activated.</li>
          <li>The <code>button</code> element has <code>tabindex="-1"</code> to remove it from tab order.</li>
          <li>The <code>role="listbox"</code> on the <code>ul</code> element identifies the element as a listbox.</li>
          <li>The <code>role="option"</code> on the <code>li</code> elements identifies them as listbox options.</li>
          <li>The <code>input</code> element has a <code>keydown</code> event to handle opening the listbox and moving focus to the listbox or input.</li>
          <li>The <code>button</code> element has a <code>keydown</code> event to handle opening and closing the listbox and moving focus to the listbox.</li>
          <li>Each of the <code>li[role=option]</code> elements has a <code>keydown</code> event to handle navigation between listbox items and closing the listbox and returning focus to the input.</li>
        </ul>
        <h3> Dynamic properties</h3>
        <ul>
          <li>The <code>aria-expanded="false"</code> attribute on the <code>input</code> element identifies the current state of the listbox.</li>
          <li>The <code>aria-selected="false"</code> on the <code>li[role="option"]</code> elements identifies the option last selected.</li>
        </ul>
      </section>  

      <section aria-labelledby="id_kbd">
      <h2 id="id_kbd">Keyboard Support</h2>
      <h3 id="id_kbd1">Input Text Box</h3>
      <table aria-labelledby="id_kbd id_kbd1"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Alt+Down Arrow Key</td>
            <td>The list box is opened and focus is moved to either the current item, or the first item if there is no current item</td>
          </tr>
          <tr>
            <td>Alt+Up Arrow Key</td>
            <td>The list box is opened and focus is moved to either the current item, or the last item if there is no current item</td>
          </tr>
          
          <tr>
            <td>Down Arrow Key</td>
            <td>
              <ul>
                <li>Enters the text of the next item in the listbox to the input field</li>
                <li>If there is no current item, the text of the first item in the listbox will be entered into the input field. </li>
                <li>If the current item in the listbox is the last item, the text of the first item in the listbox will be entered into the input field. </li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Up Arrow Key</td>
            <td>
              <ul>
                <li>Updates the input with the text of the previous item in the listbox</li>
                <li>If there is no current item, updates the input with the text content of the last item in the listbox</li>
                <li>If the current item in the listbox is the first item, updates the input with the text content of the last item in the listbox</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
      
      <h3 id="id_kbd2">Button</h3>
      <table aria-labelledby="id_kbd id_kbd2"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>None</td>
            <td>Removed from tab order</td>
          </tr>
        </tbody>
      </table>
      
      <h3 id="id_kbd3">Listbox</h3>
      <table aria-labelledby="id_kbd id_kbd3"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <ul style="list-style: none">
                <li>Up Arrow Key</li>
                <li>Left Arrow Key</li>
              </ul>
            </td>
            <td>
              <ul>
                <li>Moves focus to the previous item in the list box</li>
                <li>If the current item in the listbox is the first item, focus is moved to the last item</li>
                <li>Updates the input with the text content of the item with focus</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Down Arrow and Right Arrow Key</td>
            <td>
              <ul>
                <li>Moves focus to the next item in the list box</li>
                <li>If the current item in the listbox is the last item, focus is moved to the first item</li>
                <li>Updates the input with the text content of the item with focus</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Alt+Up Arrow, Alt+Down Arrow, Enter and Escape Keys</td>
            <td>Closes the list and moves focus to the input field</td>
          </tr>
          <tr>
            <td>Page Up Key</td>
            <td>
              <ul>
                <li>Moves foucs up anywhere between 5 and 15 items depending on list size</li>
                <li>Updates the input with the text content of the item with focus</li>
              <ul>
            </td>
          </tr>
          <tr>
            <td>Page Down Key</td>
            <td>
              <ul>
                <li>Moves foucs down anywhere between 5 and 15 items depending on list size</li>
                <li>Updates the input with the text content of the item with focus</li>
              <ul>
            </td>
          </tr>
          
          <tr>
            <td>Alphanumeric Character Keys</td>
            <td>
              <ul>
                <li>Move focus to the next item that starts with the character</li>
                <li>If focus is on the last item starting with the character, focus is moved to the first item starting with that character</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
      <h2 id="id_rps">ARIA Roles, Properties and States</h2>

      <table aria-labelledby="id_rps"> 
        <thead>
          <tr>
            <th>Role</th>
            <th>Property/State</th>
            <th>Usage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>button</td>
            <td>aria-haspopup</td>
            <td>
              <ul>
               
              </ul> 
            </td>
          </tr>
        </tbody>
      </table>
      </section>

      <section aria-labelledby="sc-ex1">
        <h2 id="sc-ex1">Source Code: Example</h2>
      
        <ul>
          <li>CSS: <a href="css/combobox-3.css" type="tex/css">combobox-3.css</a></li>
          <li>Javascript: <a href="js/combobox-3.js" type="text/javascript">combobox-3.js</a></li>
        </ul>
      
        <div id="sc1">
       
        </div>
      </section>


      <script>
        sourceCode.add('sc1', 'code-ex-1')
        sourceCode.make()
      </script>


  </main>
  </body>
  </html>