<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>ARIA Combo Box Example: aria-autocomplete=both</title>
    <meta name="generator" content="BBEdit 10.5">
    <link href="../css/core.css" rel="stylesheet">
    <link href="../css/table.css" rel="stylesheet">
    <link href="css/combobox-2.css" rel="stylesheet">
    <script src="../js/examples.js" type="text/javascript"></script>
    <script src="js/combobox-2.js" type="text/javascript"></script> 
  </head>
  <body>
    <main role="main">
      <h1>ARIA Combo Box Example: <code>aria-autocomplete=both</code></h1>
 
      <p> <p> <a href="https://www.w3.org/TR/wai-aria-practices-1.1/#h-combobox">WAI-ARIA 1.1: Combo Box</a></p>
      <ul>
          <li>Allows user to select from a list of US states</li>
      </ul>

      <section id="code-ex-1">
        <h2>Combo Box Example</h2>

        <div id="cb1" 
             class="combobox"
             role="combobox">
          <input id="cb1-input" class="cb_edit" type="text"
                 aria-autocomplete="both"
                 aria-expanded="flase"
                 aria-haspopup="true" 
                 aria-controls="cb1-listbox"
                 style="float: left;"
          /> 
          <button id="cb1-button" tabindex="-1">
            <img src="./images/button-arrow-down.png" alt="">
          </button>

          <ul id="cb1-listbox" role="listbox" aria-labelledby="mb2">

          </ul>
        </div>
      </section>
      
      
      <h2 id="id_a11yfeature">Accessibility Features</h2>
             <ul>
                <li>The <code>role=combobox</code> on the <code>div</code> element containing the <code>input[type=text]</code> identifies the input as a combobox.</li>
                <li>The <code>aria-autocomplete="both"</code> on the <code>input</code> element identifies that the input will autocomplete</li>
                <li>The <code>aria-haspopup="true"</code> attribute on the <code>input[type=text]</code> element identifies that there is a listbox or dialog associated with the input.</li>
                <li>The <code>aria-controls</code> attribute on the <code>input</code> element idenfities that the listbox that will be opened when the input is activated.</li>
                <li>The <code>aria-expanded="false"</code> attribute on the <code>input</code> element identifies the current state of the listbox.</li>
                <li>The <code>button</code> element has <code>tabindex="-1"</code> to remove it from tab order.</li>
                <li>The <code>role="listbox"</code> on the <code>ul</code> element identifies the element as a listbox.</li>
                <li>The <code>role="option"</code> on the <code>li</code> elements identifies them as listbox options.</li>
                <li>The <code>input</code> element has a <code>keydown</code> event to handle opening the listbox and moving focus to the listbox or input.</li>
                <li>The <code>button</code> element has a <code>keydown</code> event to handle opening and closing the listbox and moving focus to the listbox.</li>
                <li>Each of the <code>li[role=option]</code> elements has a <code>keydown</code> event to handle navigation between listbox items and closing the listbox and returning focus to the input.</li>
              </ul>

      <h2 id="id_kbd">Keyboard Support</h2>
      <h3 id="id_kbd1">Input Text Box</h3>
      <table aria-labelledby="id_kbd id_kbd1"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Alt+Down Arrow Key</td>
            <td>The list box is opened and focus is moved to either the current item, or the first item if there is no current item</td>
          </tr>
          <tr>
            <td>Alt+Up Arrow Key</td>
            <td>The list box is opened and focus is moved to either the current item, or the last item if there is no current item</td>
          </tr>
          
          <tr>
            <td>Down Arrow Key</td>
            <td>
              <ul>
                <li>Enters the text of the next item in the listbox to the input field</li>
                <li>If there is no current item, the text of the first item in the listbox will be entered into the input field. </li>
                <li>If the current item in the listbox is the last item, the text of the first item in the listbox will be entered into the input field. </li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Up Arrow Key</td>
            <td>
              <ul>
                <li>Updates the input with the text of the previous item in the listbox</li>
                <li>If there is no current item, updates the input with the text content of the last item in the listbox</li>
                <li>If the current item in the listbox is the first item, updates the input with the text content of the last item in the listbox</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
      
      <h3 id="id_kbd2">Button</h3>
      <table aria-labelledby="id_kbd id_kbd2"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>None</td>
            <td>Removed from tab order</td>
          </tr>
        </tbody>
      </table>
      
      <h3 id="id_kbd3">Listbox</h3>
      <table aria-labelledby="id_kbd id_kbd3"> 
        <thead>
          <tr>
            <th>Key</th>
            <th>Function</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <ul style="list-style: none">
                <li>Up Arrow Key</li>
                <li>Left Arrow Key</li>
              </ul>
            </td>
            <td>
              <ul>
                <li>Moves focus to the previous item in the list box</li>
                <li>If the current item in the listbox is the first item, focus is moved to the last item</li>
                <li>Updates the input with the text content of the item with focus</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Down Arrow and Right Arrow Key</td>
            <td>
              <ul>
                <li>Moves focus to the next item in the list box</li>
                <li>If the current item in the listbox is the last item, focus is moved to the first item</li>
                <li>Updates the input with the text content of the item with focus</li>
              </ul>
            </td>
          </tr>
          <tr>
            <td>Alt+Up Arrow, Alt+Down Arrow, Enter and Escape Keys</td>
            <td>Closes the list and moves focus to the input field</td>
          </tr>
          <tr>
            <td>Page Up Key</td>
            <td>
              <ul>
                <li>Moves foucs up anywhere between 5 and 15 items depending on list size</li>
                <li>Updates the input with the text content of the item with focus</li>
              <ul>
            </td>
          </tr>
          <tr>
            <td>Page Down Key</td>
            <td>
              <ul>
                <li>Moves foucs down anywhere between 5 and 15 items depending on list size</li>
                <li>Updates the input with the text content of the item with focus</li>
              <ul>
            </td>
          </tr>
          
          <tr>
            <td>Alphanumeric Character Keys</td>
            <td>
              <ul>
                <li>Move focus to the next item that starts with the character</li>
                <li>If focus is on the last item starting with the character, focus is moved to the first item starting with that character</li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
      <h2 id="id_rps">ARIA Roles, Properties and States</h2>

      <table aria-labelledby="id_rps"> 
        <thead>
          <tr>
            <th>Role</th>
            <th>Property/State</th>
            <th>Usage</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>button</td>
            <td>aria-haspopup</td>
            <td>
              <ul>
               
              </ul> 
            </td>
          </tr>
        </tbody>
      </table>
      

      <section aria-labelledby="sc-ex1">
        <h2 id="sc-ex1">Source Code: Example 1</h2>
      
        <ul>
          <li>CSS: <a href="css/combobox-2.css" type="tex/css">combobox-2.css</a></li>
          <li>Javascript: <a href="js/combobox-2.js" type="text/javascript">combobox-2.js</a></li>
        </ul>
      
        <div id="sc1">
       
        </div>
      </section>


      <script>
        sourceCode.add('sc1', 'code-ex-1')
        sourceCode.make()
      </script>


  </main>
  </body>
  </html>