<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
<head>
<title>SVG Accessibility API Mappings</title>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<script src="../common/script/jquery-1.9.0.min.js"></script>
<script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove"></script>
<script src="../common/script/resolveReferences.js" class="remove"></script>
	<script src="../common/biblio.js" class="remove"></script>

<link href="../common/css/mapping-tables.css" rel="stylesheet" type="text/css"/>
<link href="../common/css/common.css" rel="stylesheet" type="text/css"/>
<!--<link href="css/svg-aam.css" rel="stylesheet" type="text/css"/>-->
<link href="http://www.w3.org/StyleSheets/TR/W3C-ED" rel="stylesheet" type="text/css"/>
<script class="remove">
  var respecConfig = {
    includePermalinks: true,
    
    // specification status (e.g., WD, LC, NOTE, etc.). If in doubt use ED.
    specStatus:           "ED",
    //crEnd:                "2012-04-30",
    //perEnd:               "2013-07-23",
    //publishDate:           "2015-02-26",
    diffTool:             "http://www.aptest.com/standards/htmldiff/htmldiff.pl",

    // the specifications short name, as in http://www.w3.org/TR/short-name/
    shortName:            "svg-aam-1.0",
          
    // if you wish the publication date to be other than today, set this
    // publishDate:  "2009-08-06",
    copyrightStart:  "2015",

    // if there is a previously published draft, uncomment this and set its YYYY-MM-DD date
    // and its maturity status
    //previousPublishDate:  "2014-03-20",
    //previousMaturity:     "REC",
    //prevRecURI:           "http://www.w3.org/TR/2014/REC-wai-aria-implementation-20140320/",
    //previousDiffURI:      "http://www.w3.org/TR/2014/REC-wai-aria-implementation-20140320/",

    // if there a publicly available Editors Draft, this is the link
    edDraftURI:           "https://rawgit.com/w3c/aria/master/svg-aam/svg-aam.html",

    // if this is a LCWD, uncomment and set the end of its review period
    // lcEnd: "2012-02-21",

    // editors, add as many as you like
    // only "name" is required
    editors:  [
        { name: "Amelia Bellamy-Royds",
          company: "Invited Expert",
          mailto: "amelia.bellamy.royds@gmail.com"
        },
        { name: "Richard Schwerdtfeger",
          mailto: "schwer@us.ibm.com",
          company: "IBM",
        },
    ],
    // authors, add as many as you like. 
    // This is optional, uncomment if you have authors as well as editors.
    // only "name" is required. Same format as editors.

    //authors:  [
    //    { name: "Your Name", url: "http://example.org/",
    //      company: "Your Company", companyURI: "http://example.com/" },
    //],

    /*
    alternateFormats: [
          { uri: 'svg-aam-diff.html',
            label: "Diff from Previous Recommendation" } ,
          { uri: 'svg-aam.ps',
            label: "PostScript version" },
          { uri: 'svg-aam.pdf',
            label: "PDF version" }
    ],
    */
    
    // Working group info
    wg:           ["Accessible Rich Internet Applications Working Group", "SVG Working Group"],
    wgURI:        ["http://www.w3.org/WAI/ARIA/", "http://www.w3.org/Graphics/SVG/WG/"],
    wgPublicList: "public-svg-a11y",

    // URI of the patent status for this WG, for Rec-track documents
    // !!!! IMPORTANT !!!!
    // This is important for Rec-track documents, do not copy a patent URI from a random
    // document unless you know what you're doing. If in doubt ask your friendly neighbourhood
    // Team Contact.
    wgPatentURI:  ["http://www.w3.org/2004/01/pp-impl/83726/status", "http://www.w3.org/2004/01/pp-impl/19480/status"],
    
    tocIntroductory: true,
    //maxTocLevel: 4,

   ariaSpecURLs: {
      "ED": "http://w3c.github.io/aria/aria/aria.html",
      "WD" : "http://www.w3.org/TR/wai-aria-1.1/",
      "FPWD" : "http://www.w3.org/TR/wai-aria-1.1/",
      "REC": "http://www.w3.org/TR/wai-aria/"
    },
   accNameURLs: {
      "ED": "http://w3c.github.io/aria/accname-aam/accname-aam.html",
      "WD" : "http://www.w3.org/TR/accname-aam-1.1/",
      "FPWD": "http://www.w3.org/TR/accname-aam-1.1/",
      "REC": "http://www.w3.org/TR/accname-aam/"
    },

    coreMappingURLs: {
       "ED": 
"http://rawgithub.com/w3c/aria/master/core-aam/core-aam.html",
       "WD" : "http://www.w3.org/TR/core-aam-1.1/",
       "FPWD": "http://www.w3.org/TR/core-aam-1.1/",
       "REC": "http://www.w3.org/TR/wai-aria-implementation/"
    },
    htmlMappingURLs: {
       "ED": "http://rawgithub.com/w3c/aria/master/html-aam/html-aam.html",
       "WD" : "http://www.w3.org/TR/html-aam-1.0/",
       "FPWD": "http://www.w3.org/TR/html-aam-1.0/",
       "REC": "http://www.w3.org/TR/wai-aria-implementation/"
    },
    graphicsMappingModURLs: {
       "ED": "http://rawgithub.com/w3c/aria/master/graphics-aam/graphics-aam.html",
       "WD" : "http://www.w3.org/TR/graphics-aam-1.0/",
       "FPWD": "http://www.w3.org/TR/graphics-aam-1.0/",
       "REC": "http://www.w3.org/TR/graphics-aam/"
    },


    localBiblio: biblio,
    
    preProcess: [ linkCrossReferences ] 
  }
</script>

<script src="../common/script/jquery.details.min.js"></script>
<script src="../common/script/mapping-tables.js"></script>
<script type="text/javascript">

var mappingTableLabels = {
  viewByTable: "View as a single table",
  expand: "Expand all",
  collapse: "Collapse all",
  showHideCols: "Show/Hide Columns:",
  showActionText: "Show",
  hideActionText: "Hide",
  showToolTipText: "Show column",
  hideToolTipText: "Hide column",

  // map where keys are @id of associated mapping table:
  viewByLabels: {
    "role-mapping-table": "View by elements",
    "state-property-mapping-table": "View by state/property",
    "event-mapping-table": "View by state/property"
  }
}
</script>
</head>
<body>
<section id="abstract">
  <p>
    SVG Accessibility API Mappings (SVG-AAM) defines how 
    <a class="termref" data-lt="User Agent">user agent</a>s map 
    Scalable Vector Graphics (SVG) [[!SVG]] markup 
    to platform <a class="termref" data-lt="accessibility api">accessibility 
    application programming interfaces (<abbr title="Application Programming Interfaces">APIs</abbr>)</a>. 
    It is intended for SVG user agent developers 
    responsible for SVG accessibility in their user agent.
  </p>
  <p>
    This specification allows SVG authors to create accessible rich internet applications, 
    including charts, graphs, and other drawings. 
    It does this by extending the 
    <cite><a href="http://www.w3.org/TR/core-aam-1.1/">Core Accessibility API Mappings 1.1</a></cite> (CORE-AAM) [[!CORE-AAM]] 
    and the <cite><a href="http://www.w3.org/TR/accname-aam-1.1/">Accessible Name and Description: Computation and API Mappings 1.1</a></cite> (ACCNAME-AAM) [[!ACCNAME-AAM]] specifications 
    for user agents. 
    It leverages those core mappings and provides SVG-specific guidance 
    to define how the SVG user agent must respond to keyboard focus 
    and <a class="termref" data-lt="role">role</a>, <a class="termref" data-lt="State">state</a>, and <a class="termref" data-lt="Property">property</a> attributes 
    provided in Web content via <cite><a href="http://www.w3.org/TR/wai-aria-1.1/"><abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr></a></cite> [[!WAI-ARIA]]. 
    The SVG-AAM also adapts the ACCNAME-AAM 
    to make use of standard SVG features 
    used to compute accessible names and description information 
    exposed by platform accessibility <abbr title="Application Programming Interfaces">APIs</abbr>.
  </p>
  <p>
      The SVG-AAM is part of the 
    <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> suite 
    described in the <a href="http://www.w3.org/WAI/intro/aria.php"><abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Overview</a>.
  </p>
</section>
<section id="sotd">
  <p>
    This is a <a href="http://www.w3.org/2004/02/Process-20040205/tr.html#RecsWD">Working Draft</a> of <abbr title="Scalable Vector Graphics">SVG</abbr> Accessibility <abbr title="Application Programming Interfaces">API</abbr> Mappings 1.0 by the <a href="http://www.w3.org/WAI/PF/svg-a11y-tf/"><abbr title="Scalable Vector Graphics">SVG</abbr> Accessibility Task Force</a>, a joint task force of the <a href="http://www.w3.org/WAI/ARIA/">Accessible Rich Internet Applications Working Group</a> and the <a href="http://www.w3.org/Graphics/SVG/WG/"><abbr title="Scalable Vector Graphics">SVG</abbr> Working Group</a>. It provides the first concrete guidance on mapping <abbr title="Scalable Vector Graphics">SVG</abbr> language features to accessibility <abbr title="application programming interfaces">APIs</abbr>, and addresses both native <abbr title="Scalable Vector Graphics">SVG</abbr> features and ARIA additions. It extends <a href="http://www.w3.org/TR/core-aam-1.1/" class="core-mapping">Core Accessibility <abbr title="Application Programming Interfaces">API</abbr> Mappings 1.1</a> [CORE-AAM] and <a href="http://www.w3.org/TR/accname-aam-1.1/" class="accname">Accessible Name and Description: Computation and <abbr title="Application Programming Interfaces">API</abbr> Mappings 1.1</a> [ACCNAME-AAM], and is part of a suite of similar technology-specific Accessibility <abbr title="Application Programming Interfaces">API</abbr> Mappings specifications. This version expands the set of mappings for <abbr title="Scalable Vector Graphics">SVG</abbr> features.
  </p>
  <p>
    This document was previously co-published by the <a href="http://www.w3.org/WAI/PF/">Protocols and Formats Working Group</a>. It moved to the ARIA Working Group because of changes in the set of Working Groups chartered at <abbr title="World Wide Web Consortium">W3C</abbr>. It continues to be co-published with the <abbr title="Scalable Vector Graphics">SVG</abbr> Working Group.
  </p>
  <p>
    Feedback on any aspect of the specification is accepted. 
    For this publication, the SVG Accessibility Task Force 
    particularly seeks feedback on the following questions:
  </p>
    <ul>
        <li>Are mappings of SVG features clear and appropriate?</li>
        <li>In particular, is the handling of SVG-specific
            rendering behavior such as views, re-used graphics,
            declarative animation, and non-rendered elements
            clearly defined and consistent with the semantics
            that a fully sighted user would receive from 
            the graphics?
        </li>
        <li>Is the handling of alternative text metadata
            sufficient to support complete descriptions
            of complex graphics?
        </li>
        <li>Are ambiguities between the role of WAI-ARIA and SVG features resolved?</li>
        <li>Is the relationship of this specification to Core Accessibility API Mappings 1.1 and Accessible Name and Description: Computation and API Mappings 1.1 clear?</li>
        <li>Is the relationship of this specification to SVG2 and WAI-ARIA 1.1 clear?</li>
    </ul>
    <p>
        The editors have highlighted particularly problematic
        aspects of the specification, 
        or areas where further clarification is likely to be required,
        in the form of Editor's Notes boxes throughout the text.
        Comments on these issues would be particularly appreciated.
    </p>
	<p>
      To comment, send email to <a href="mailto:public-svg-a11y@w3.org?subject=%5BSVG-AAM%5D%20public%20comment">public-svg-a11y@w3.org</a> (<a href="http://lists.w3.org/Archives/Public/public-svg-a11y/">comment archive</a>) or <a href="https://github.com/w3c/aria/issues/">file an issue in the <abbr title="World Wide Web Consortium">W3C</abbr> ARIA GitHub repository</a>. Comments are requested by <strong>15 January 2016</strong>. In-progress updates to the document may be viewed in the <a href="http://w3c.github.io/aria/svg-aam/svg-aam.html">publicly visible editors' draft</a>.
  </p>
</section>
<section id="intro" class="informative">
	<h2>Introduction</h2>
  <p>
    In traditional Graphical User Interface (GUI) applications, 
    components of the User Interface (UI) are 
    displayed when needed and hidden when not needed 
    based on user interactions. 
    <a class="termref" data-lt="Accessibility API">Accessibility API</a>s are used to communicate 
    <a class="termref" data-lt="Semantics">semantics</a>  
    about the user interface to 
    <a class="termref" data-lt="Assistive Technologies">assistive technologies</a> 
    used by people with disabilities. 
    These <abbr title="application programming interfaces">APIs</abbr> constitute 
    a contract between applications and assistive technologies, 
    such as screen readers, magnifiers, alternate input devices, and speech command and control, 
    to enable them to access the appropriate semantics needed to produce 
    a usable alternative to interactive applications or complex documents. 
    For example, screen-reading software for blind users can determine 
    whether a particular <abbr title="user interface">UI</abbr> component 
    is a menu, button, text field, list box, etc.
    It can also present the information in tables or lists
    in a way that provides context for each piece of text.
  </p> 
  <p>
    For web documents and applications, 
    the essential semantic information is encapsulated 
    within the Document Object Model (<abbr title="Document Object Model">DOM</abbr>).  
    Assistive technologies obtain this information from the user agent, 
    which maps elements and attributes 
    to the platform Accessibility <abbr title="Application Programming Interface">API</abbr>.
  </p>
  <p>
    In traditional <abbr title="Scalable Vector Graphics">SVG</abbr> documents, 
    most SVG <a class="termref" data-lt="Element">element</a>s
    do not provide semantic information of value to assistive technologies.  
    Instead, they represent low-level vector graphics drawing directives. 
    That element only has meaning to assistive technologies 
    if the author provides alternative text, descriptions, or WAI-ARIA semantics.
  </p>
  <p>
    Both Scalable Vector Graphics (SVG) version 1 [[SVG1]] and version 1.1 [[SVG11]] 
    included elements for accessibility purposes, 
    such as <code>&lt;title&gt;</code> and <code>&lt;desc&gt;</code>.  
    However, prior to this specification there was no normative guidance 
    as to how user agents should expose this information to assistive technologies, 
    or how to integrate it with host languages and validators that support WAI-ARIA.
  </p>
  <p>
    SVG 2 now incorporates traditional keyboard navigation from HTML 5. 
    The <a class="termref" data-lt="user agent">user agent</a> 
    provides sequential focus navigation to <abbr title="Scalable Vector Graphics">SVG</abbr> elements 
    that are interactive by default (links and audio/video elements with controls), 
    or that the author has indicated may receive focus 
    (through the use of <code>tabindex</code> attribute). 
    Focus may also be set or removed programmatically by scripts,
    so that authors may implement 
    more complex keyboard focus patterns.
  </p>
  <p>
    SVG closely aligns with <a href="http://www.w3.org/TR/DOM-Level-3-Core/">DOM Level 3 Core</a>
    and HTML5 events to facilitate JavaScript use. 
    Through the use of technologies 
    such as JavaScript, Ajax, and <abbr title="cascading style sheets">CSS</abbr>, 
    authors can make SVG look and behave more interactive 
    without having to reload the page with each user interaction. 
    With SVG, authors are able to produce rich interactive charts and drawings.
  </p>
  <p>
    To allow the author to express and dynamically update their intended semantics, 
    SVG 2 supports the use of 
    <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> roles, states, and properties.
    WAI-ARIA enables rich SVG-drawn Internet applications 
    to have the same accessibility features as 
    <abbr title="graphical user interface">GUI</abbr> applications installed on their operating system.
    Authors may include 
    <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> attributes in their markup 
    and user agents will translate it 
    to the platform accessibility <abbr title="application programming interfaces">APIs</abbr>.
  </p>
  <p>
    For an introduction to <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr>, 
    see the <a href="http://www.w3.org/WAI/intro/aria.php"><abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> Overview</a>.  
    The SVG Accessibility API Mappings specification (this document) 
    defines how <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> features 
    interact with the native semantics of the SVG language.  
    It is part of a set of resources that define and support 
    the <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> specification, 
    including the following documents: 
  </p>
  <ul>
    <li>
      <cite><a href="http://www.w3.org/TR/wai-aria-1.1/">Accessible Rich Internet Applications (WAI-ARIA) 1.1</a></cite> [[WAI-ARIA]], 
      a planned <abbr title="World Wide Web Consortium">W3C</abbr> recommendation 
      that extends the exising ARIA standard [[WAI-ARIA-10]].
      It defines the core roles, states, and properties.
    </li>
    <li>
      <cite><a href="http://www.w3.org/TR/graphics-aria-1.0/">WAI-ARIA Graphics Module</a></cite> [[GRAPHICS-ARIA]],
      a planned <abbr title="World Wide Web Consortium">W3C</abbr> recommendation that defines graphics roles, states, and properties not included in <cite><a href="http://www.w3.org/TR/wai-aria-1.1/">Accessible Rich Internet Applications (WAI-ARIA) 1.1</a></cite> [[WAI-ARIA]].
    </li>
    <li>
      <cite><a href="http://www.w3.org/TR/core-aam-1.1/">Core Accessibility API Mappings</a></cite> specification [[CORE-AAM]], 
      which expresses how <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> 
      <a href="#dfn-role" class="termref">roles</a>, <a href="#dfn-state" class="termref">states</a>, and <a href="#dfn-property" class="termref">properties</a> 
      should be supported in user agents 
      using platform accessibility <abbr title="Application Programming Interfaces">APIs</abbr>.
    </li>
    <li>
      <cite><a href="http://www.w3.org/TR/graphics-aam-1.0">Graphics Accessibility API Mappings</a></cite>[[GRAPHICS-AAM]], a planned <abbr title="World Wide Web Consortium">W3C</abbr> recommendation,
      which expresses how <cite><a href="http://www.w3.org/TR/graphics-aria-1.0/">WAI-ARIA Graphics Module</a></cite> [[GRAPHICS-ARIA]]
      <a href="#dfn-role" class="termref">roles</a>, <a href="#dfn-state" class="termref">states</a>, and <a href="#dfn-property" class="termref">properties</a>
      should be supported in user agents
      using platform accessibility <abbr title="Application Programming Interfaces">APIs</abbr>.
    </li>

    <li>
      <cite><a href="http://www.w3.org/TR/accname-aam-1.1/">Accessible Name and Description: Computation and API Mappings 1.1</a></cite> [[ACCNAME-AAM]], 
      which outlines the specific steps user agents should follow 
      in order to identify accessible names (labels) and descriptions (alternative text) 
      for elements that are exposed to assistive technologies.
    </li>
    <li>
      <cite><a href="http://www.w3.org/TR/wai-aria-practices/"><abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> Authoring Practices Guide</a></cite> [[ARIA-PRACTICES]], 
      a planned W3C Working Group Note, 
      which describes how web content developers can develop 
      accessible rich internet applications using <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr>. 
      It provides detailed advice and examples 
      directed primarily to web application developers, 
      yet also useful to developers of user agents and assistive technologies.
    </li>
  </ul>
  <p>
    This specification begins by providing 
    a general overview of accessibility <abbr title="Application Programming Interfaces">APIs</abbr> 
    and the  hierarchy of <a class="termref" data-lt="accessible object">accessible object</a>s 
    known as the <a class="termref">accessibility tree</a>. 
    The following sections define how SVG host language elements and content &#8212; 
    with or without <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> 
    roles, states, and properties applied &#8212;
    map to accessibility <abbr title="Application Programming Interfaces">APIs</abbr>. 
    Other sections give guidance on calculating text alternatives, 
    mapping actions to <a class="termref" data-lt="role">event</a>s, 
    event processing, special document handling procedures, and error handling.
  </p>
  <p>
    This guide relies heavily on the 
    accessibility <abbr title="Application Programming Interface">API</abbr> mappings 
    defined in the [[CORE-AAM]] and [[ACCNAME-AAM]] specifications 
    but defines changes in mappings due to features in the [[SVG]] host language. 
    Key areas of difference stem from the intrinsic host language semantics of SVG:
  </p>
  <ul>
    <li>The procedure for mapping the DOM tree to the accessibility tree
      is designed to simplify that tree 
      to only include elements with semantic importance.
    </li>
    <li>SVG elements are assigned default roles and properties, 
      which in many cases are conditional on whether they meet 
      the criteria for inclusion in the accessibility tree.
    </li>
    <li>Text computation of names and descriptions use the SVG metadata elements.
    </li>
    <li>Implicit ARIA states (such as whether an element is hidden) must be updated
      in response to SVG animations.
    </li>
  </ul>
	<section id="intro_aapi">
		<h3>Accessibility <abbr title="Application Programming Interfaces">APIs</abbr> </h3>
    <p>
      To provide access to <abbr title="graphical user interface">GUI</abbr> applications,
      software applications expose the necessary information needed by <a class="termref" data-lt="element">assistive technologies</a> to interoperate with it through <a class="termref">accessibility <abbr title="Application Programming Interfaces">API</abbr></a>s. The accessibility information exposed through the <a class="termref">accessibility <abbr title="Application Programming Interfaces">API</abbr></a>s must be maintained throughout the applications lifecycle.
    </p>
    <p>
      In Web pages the Document Object Model (DOM) 
      is used to represent the structure and <a href="#dfn-state" class="termref">state</a> 
      of the <a class="termref" data-lt="element">element</a>s in the document 
      being rendered by a <a class="termref" data-lt="user agent">user agent</a>. 
      The elements of the document are organized into a hierarchy of nodes 
      known as the <abbr title="document object model">DOM</abbr> tree. 
      User agents map <abbr title="Document Object Model">DOM</abbr>
      to accessibility <abbr title="Application Programming Interfaces">APIs</abbr>,
      in the same way desktop applications map UI components. 
      The information provided to the accessibility API is used to
      support assistive technologies, with the expectation 
      that the information passed from the DOM 
      matches the semantic intent of the author. 
      The author may communicate this semantic intent 
      by using native features of the document language
      or by using WAI-ARIA, if native features are not available.
    </p> 
    <p>
      Authors use <abbr title="Scalable Vector Graphics">SVG</abbr> to create a broad range of
      applications and drawings. The information needed to support accessibility APIs in <abbr title="Scalable Vector Graphics">SVG</abbr> comes from
      a combination of semantics from the elements themselves but also the additional semantics provided by
      <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> and the modular extensions to <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> supported by this specification. 
    </p>
    <p>
      A screen reader or other assistive technology 
      uses the semantic information exposed via 
      the accessibility <abbr title="Application Programming Interface">API</abbr> 
      to provide an alternative rendering of an application 
      that is meaningful to a user. 
    </p>
    <p>
      Accessibility <abbr title="Application Programming Interfaces">APIs</abbr> 
      supported by this document (and the other specifications it extends) are:
    </p>
    <ul>
      <li>
      <cite><a href="https://msdn.microsoft.com/en-us/library/ms697707.aspx">Microsoft Active Accessibility 2.0</a></cite> [[MSAA]] with <cite><a href="http://www.linuxfoundation.org/collaborate/workgroups/accessibility/iaccessible2">IAccessible2 1.3</a></cite> [[IAccessible2]]
      </li>
      <li>
        <cite><a href="https://msdn.microsoft.com/en-us/library/ee684013%28VS.85%29.aspx">User Interface Automation</a></cite> [[UI-AUTOMATION]]
      </li>
      <li>
        <cite><a href="https://developer.gnome.org/atk/2.10/">Linux Accessibility Toolkit 2.10.0</a></cite> [[ATK]] and <cite><a href="https://developer.gnome.org/libatspi/2.10/">Assistive Technology - Service Provider Interface 2.1</a></cite> [[AT-SPI]]
      </li>
      <li>
        <cite><a href="https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Protocols/NSAccessibility_Protocol/index.html">Mac OS X Accessibility Protocol Mac OS 10.10</a></cite> [[AXAPI]]
      </li>
    </ul>
		<p>
      If user agent developers need to expose information 
      using other accessibility <abbr title="Application Programming Interfaces">APIs</abbr>, 
      it is recommended that they work closely 
      with the developer of the platform where 
      the <abbr title="application programming interface">API</abbr> runs, 
      and assistive technology developers on that platform.
    </p>
	</section>
	<section id="intro_treetypes">
		<h3>The Accessibility Tree and the <abbr title="Document Object Model">DOM</abbr> Tree</h3>
    <p>
      The <a class="termref" data-lt="Accessibility Tree">accessibility tree</a> 
      and the <abbr title="Document Object Model">DOM</abbr> tree are parallel structures.  
      Roughly speaking, the accessibility tree is a subset 
      of the <abbr title="Document Object Model">DOM</abbr> tree,
      augmented to
      include the user interface <a class="termref" data-lt="Object">object</a>s 
      of the <a class="termref" data-lt="user agent">user agent</a> 
      as well as the objects of the document. 
      <a class="termref" data-lt="Accessible object">Accessible object</a>s are created 
      in the accessibility tree for every 
      <abbr title="Document Object Model">DOM</abbr>  <a class="termref" href="#dfn-element">element</a> 
      that should be exposed to an 
      <a class="termref" href="#dfn-assistive-technologies">assistive technology</a>. 
      An element could be exposed because it may fire an accessibility <a href="#dfn-event" class="termref">event</a> 
      or because it has a <a class="termref" data-lt="Property">property</a>, 
      relationship or feature which needs to be exposed. 
      Generally, if something can be omitted it will be, 
      for reasons of performance and  simplicity. 
      For example, a <code>&lt;span&gt;</code> with just a style change 
      and no <a class="termref" data-lt="semantics">semantics</a> 
      may not get its own accessible object, 
      but the style change  will be exposed by other means.
    </p>
  </section>
</section>
<section id="normative">
	<h2>Normative User Agent Implementation Requirements for <abbr title="Scalable Vector Graphics">SVG</abbr></h2>
	<p>
    This specification indicates whether a section is 
    <a class="termref" href="#dfn-normative">normative</a> or <a class="termref" href="#dfn-informative">informative</a> 
    and the classification applies to the entire section. 
    A statement "This section is normative" or "This section is informative" 
    applies to all sub-sections of that section.
  </p>
	<p>
    Normative sections provide requirements that 
    <a class="termref" data-lt="user agent">user agent</a>s must follow 
    for an implementation to conform to this specification. 
    The keywords <strong class="rfc2119">MUST</strong>, 
    <strong class="rfc2119">MUST NOT</strong>, 
    <strong class="rfc2119">REQUIRED</strong>, 
    <strong class="rfc2119">SHALL</strong>, 
    <strong class="rfc2119">SHALL NOT</strong>, 
    <strong class="rfc2119">SHOULD</strong>, 
    <strong class="rfc2119">RECOMMENDED</strong>, 
    <strong class="rfc2119">MAY</strong>, and 
    <strong class="rfc2119">OPTIONAL</strong> 
    in this document are to be interpreted as described 
    in <cite><a href="http://www.rfc-editor.org/rfc/rfc2119.txt">Keywords for use in RFCs to indicate requirement levels</a></cite> [[rfc2119]]. 
    RFC-2119 keywords are formatted in uppercase and contained in a 
    <code>strong</code> element with <code>class="rfc2119"</code>. 
    When the keywords shown above are used, but do not share this format, 
    they do not convey formal information in the RFC 2119 sense, 
    and are merely explanatory, i.e., informative. 
    As much as possible, such usages are avoided in this specification.
  </p>
	<p>
    Informative sections provide information useful 
    to understanding the specification. 
    Such sections may contain examples of recommended practice, 
    but it is not required to follow such recommendations 
    in order to conform to this specification.
  </p>
</section>
<section id="glossary">
  <h2>Important Terms</h2>
  <div data-include="../common/terms.html" data-oninclude="fixIncludes" data-include-replace='true'>Placeholder for glossary</div>
</section>
<section class="section" id="keyboard-focus">
	<h2>Supporting Keyboard Navigation</h2>
  <p>
    Enabling keyboard navigation in web applications 
    is a necessary step toward making accessible web applications possible. 
    Not only is the keyboard the primary input device for many users,
    but other accessibile input devices use keyboard events 
    to communicate with the user agent.
  </p>
  <p>
    The Scalable Vector Graphics (SVG) 1 [[SVG1]] and 
    1.1 [[SVG11]] specifications included only very limited keyboard support
    (access keys for animations).  
    Many user agents implemented tabbed focus for links, 
    but there was no declarative or scripted means 
    for authors to control this behavior.
    Scalable Vector Graphics (SVG) 2 [[SVG2]] introduces keyboard navigation
    and focus control 
    based on the HTML <code>tabindex</code> model.
  </p>
  <p> 
    Conforming user agents <span class="rfc2119">MUST</span> conform to 
    <a class="core-mapping" href="#keyboard-focus">Supporting Keyboard Navigation</a> 
    requirements in [[!CORE-AAM]].
  </p>
  
  <p class="note">
    The SVG Accessibility Task Force intends to develop 
    more detailed guidelines for authors and user agents 
    regarding navigation in graphical documents.
  </p>

</section>
<section id="mapping">
	<h2>Mapping <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> to Accessibility <abbr title="Application Programming Interfaces">APIs</abbr></h2>
  <p>
    <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> support 
    was formally introduced to SVG in Scalable Vector Graphics (SVG) 2 [[SVG2]],
    which allows ARIA attributes to be used in the default namespace. 
    This section defines how WAI-ARIA semantics are exposed to assistive technologies 
    through platform Accessibility <abbr title="Application Programming Interfaces">APIs</abbr> 
    and how SVG elements are mapped to 
    Accessibility <abbr title="Application Programming Interfaces">APIs</abbr> based on WAI-ARIA.
  </p>

	<section id="mapping_general">
		<h3>General rules for exposing <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> semantics</h3>
    <p>
      SVG user agents <strong class="rfc2119">MUST</strong> conform to <a class="core-mapping" href="#mapping_general">General rules for exposing WAI-ARIA semantics</a> in [[!CORE-AAM]], 
      with the additions described in the following sub-sections.
    </p>
    
    <section id="exclude_elements">
      <h4>Excluding Elements from the Accessibility Tree</h4>
      <p>
        Certain elements in the <abbr title="Document Object Model">DOM</abbr>
        are not exposed via the <a class="termref" href="#dfn-accessibility-api">accessibility <abbr title="Application Programming Interface">API</abbr></a>.
        The section <a class="core-mapping" href="#exclude_elements2">Excluding Elements from the Accessibility Tree</a> 
        of the Core Accessibility API Mappings [[CORE-AAM]]
        outlines the general rules for excluding elements.
        One factor is whether host language semantics specify
        that the element should not be displayed.
      </p>
      <p>
        The SVG language defines numerous elements 
        that fit this criteria.
        Many SVG elements are never directly rendered to the screen,
        while others may or may not be rendered or displayed, 
        depending on context or CSS styling.
        Elements which are neither perceivable nor interactive
        should not be included in the accessibility tree 
        exposed to accessibility <abbr title="Application Programming Interfaces">APIs</abbr>.
        This section details the expected interpretation
        of SVG host language semantics.
      </p>
      <div class="note">
        <p>The other factors for excluding elements, 
          as described in the Core Accessibility API Mappings,
          are as follows:
        </p>
        <ul>
          <li>If the first mappable role provided by the author
          is <a class="role-reference" href="#none"><code>none</code></a > or <a class="role-reference" href="#presentation"><code>presentation</code></a>, the element must not be exposed.</li>
          <li>If the element or an ancestor has an 
          <a class="property-reference" href="#aria-hidden"><code>aria-hidden</code></a> value of <code>true</code>,
          it should not be exposed.</li>
          <li>If an ancestor of the element has a used role
            which has the characteristic &quot;<a class="specref" href="#childrenArePresentational">Children Presentational: True</a>&quot;
            in the WAI-ARIA specifications [[WAI-ARIA]], 
            the child element should not be exposed.
            For example, the roles
            <a class="role-reference" href="#button"><code>button</code></a> and 
            <a class="role-reference" href="#img"><code>img</code></a>
            exclude all child content from being directly included
            in the accessibility tree.
          </li>
        </ul>
        <p>Consult the original document [[CORE-AAM]] for the normative text.</p>
      </div>
      
      <p>
       Elements which are never directly rendered to screen, 
       nor represented by an interactive region in a graphic,
       do not need a corresponding accessible object.
       User agents <strong class="rfc2119">MUST NOT</strong> include any elements, or their descendant content, as an <a class="termref" data-lt="accessible object">accessible object</a> in the <a class="termref" data-lt="accessibility tree">accessibility tree</a> that are indicated as <code>no accessible object created</code> in the <a href="#mapping_role_table">SVG Element Mapping Table</a>.  
        User agents <strong class="rfc2119">SHOULD</strong> also exclude 
        any other element defined by past or future SVG specifications or modules
        that specifically indicate the element is never directly rendered.
        </p>
        <p>
      For example, elements that represent 
      filters, gradients, or gradient stops 
      will never create an accessible object.
      Shape elements or image elements that are included 
      in an SVG definitions section or as part of a pattern
      will also not have accessible objects, 
      because the semantics of the ancestor 
      <code>defs</code> or <code>pattern</code> element
      preclude that entire DOM subtree from being represented
      in the accessibility tree.
      </p> 
      <p>
      Elements that are excluded from the <a class="termref" data-lt="accessibility tree">accessibility tree</a> might still be used in the name and description computation of another element, as defined in the <a href="#mapping_additional_nd">Name and Description</a> section.
      </p>
      <p class="note">
        Although they are not directly included in the accessibility tree,
        animation and view elements can affect
        the accessible objects representing their target elements,
        as described under <a href="#mapping_additional">Special Processing Requiring Additional Computation</a>.
      </p>
      <p>
        In addition, SVG 1.1 [[SVG11]] defines the conditional processing attributes
        <code>systemLanguage</code>,
        <code>requiredExtensions</code>, and
        <code>requiredFeatures</code>.
        These may be used individually
        or in combination with the <code>switch</code> element
        to prevent content from being rendered under certain conditions,
        or to select between alternate versions of content.
      </p>
      <p>
        SVG user agents <strong class="rfc2119">MUST NOT</strong> 
        expose to accessibility APIs
        any elements that are not rendered 
        because of conditional processing attributes on that element
        or because of the position of that element within a switch construct.
        The <code>switch</code> element itself <strong class="rfc2119">SHOULD</strong> 
        be omitted as if it had a role of <code>none</code> or <code>presentation</code>.
      </p>
      
      <p>
        The rendering of SVG elements is also affected by CSS styling properties, 
        which may be specified using stylesheet rules, inline styles, presentation attributes, or animations.
        Regardless of how the style property is specified,
        the effect depends on the final computed value 
        determined by the CSS cascade [[CSS-CASCADE-3]].
        User agents <strong class="rfc2119">MUST NOT</strong> 
        expose to accessibility APIs
        any element that is not rendered 
        because its computed style includes 
        a value of <code>none</code> 
        for the <a href="https://svgwg.org/svg2-draft/painting.html#VisibilityControl"><code>display</code></a> property.
      </p>
      <p>
        Other style properties can prevent an element,
        which is otherwise part of the rendering tree,
        from creating any visible representation in the rendered graphic.
        Such elements may still be interactive;
        they may receive keyboard focus
        or they may be associated with a region of the graphic
        that is responsive to pointer input events.
      </p>
      <p>
        For the purpose of SVG,
        an element is considered <a class="termref">hidden</a>
        if it is <em>neither</em> visible nor interactive,
        and is therefore not <a class="termref">perceivable</a> to visual users.
        User agents <strong class="rfc2119">SHOULD NOT</strong> 
        expose to accessibility APIs
        any element that is hidden in this sense.
        This includes elements that have the following computed style values,
        <em>unless</em> the element can receive user input
        (pointer events or keyboard focus) 
        as described under 
        <a href="#include_elements">Including Elements in the Accessibility Tree</a>:
      </p>
      <ul>
        <li>
          a value of <code>hidden</code> 
          for the <a href="https://svgwg.org/svg2-draft/painting.html#VisibilityControl"><code>visibility</code></a> property
        </li>
        <li>
          a value of <code>none</code> 
          for <em>both</em> the <a href="https://svgwg.org/svg2-draft/painting.html#SpecifyingFillPaint"><code>fill</code></a> 
          and <a href="https://svgwg.org/svg2-draft/painting.html#SpecifyingStrokePaint"><code>stroke</code></a> properties 
          of text or shape elements
        </li>
      </ul>
      <p>
        An element that is currently positioned off-screen,
        or that is obscured by other elements,
        is not considered hidden.  
        User agents should expose this state through other means,
        as described in the <a class="core-mapping" href="#statePropertyMappingGeneralRules">State and Property Mapping</a>
        section of the Core Accessibility API Mappings [[CORE-AAM]].
      </p>
      
      <div class="note">
        <p>
          The <a href="https://svgwg.org/svg2-draft/painting.html#VisibilityControl"><code>opacity</code></a> property (of an element itself or an ancestor element) can make an element invisible.  However, this is not considered a hiding method that excludes elements from the accessibility tree.  
        </p>
        <p>
          Opacity (unlike the fill, stroke, and visibility properties) does not affect <a href="https://svgwg.org/svg2-draft/interact.html#PointerEventsProperty"><code>pointer-events</code></a> processing. Furthermore, opacity is often animated, e.g. to create a blinking effect, which would problematic if this led to repeated changes in the accessibility tree.   
        </p>
        <p>
          Authors are therefore advised not be rely on zero opacity to hide inactive content.  If opacity is used to fade out no-longer relevant content, the <a class="property-reference" href="#aria-hidden"><code>aria-hidden</code></a> attribute can be used to indicate that assistive technologies should ignore the element and its descendents.
        </p>
      </div>
      <p>
        In addition to these non-displayed elements,
        many SVG elements&#8212;although rendered to the screen&#8212;do not have an intrinsic semantic meaning.
        Instead, they represent components of the visual presentation of the document.
        To simplify the accessible representation of the document,
        these purely presentational elements would normally be omitted
        from the accessibility tree,
        unless the author explicitly provides semantic content.
      </p>      
      <p>
        The following elements in the SVG namespace 
        <strong class="rfc2119">SHOULD NOT</strong> be included in the accessibility tree,
        <em>except</em> as described under 
        <a href="#include_elements">Including Elements in the Accessibility Tree</a>:        
      </p>
      <ul>
        <li> 
          shape elements
          (<code>circle</code>,
          <code>ellipse</code>,
          <code>line</code>,
          <code>path</code>,
          <code>polygon</code>,
          <code>polyline</code>,
          <code>rect</code>)
        </li>
        <li>
          the <code>use</code> element
        </li>
        <li>
          the grouping (<code>g</code>) element
        </li>
        <li>
          the <code>image</code> element
        </li>
        <li>
          text formatting elements
          (<code>textPath</code>,
          <code>tspan</code>)
        </li>
        <li>
          the <code>foreignObject</code> element
        </li>
        <!--
        <li>
          the <code>canvas</code> element
        </li>
        <li>
          the <code>iframe</code> element
        </li>
        -->
      </ul>
      <p>
        Although these elements are omitted from the accessibility tree,
        their child content 
        <!-- (or the embedded document, for an <code>iframe</code>) -->
        is still processed,
        as if it was a direct child of the nearest ancestor node in the DOM tree that is included in the accessibility tree.  
        In other words, the markup elements are treated
        as if they had a role of <code>none</code> or <code>presentation</code>.
      </p>
      
      <div class="ednote">
        <p>
        The strict exclusion of non-rendered metadata elements, including <code>desc</code>,
        from the accessibility tree
        means that their content will only be available as plain text,
        not as structured alternative representations
        that a user can navigate in browsing mode.
        </p>
        <p>
        This contradicts the original intent of the SVG specifications,
        which allows these elements to include structured content,
        including HTML-namespaced content.
        The SVG 1 specifications had suggested that this could
        be alternatively presented as CSS-formated XML text,
        but this is not supported by the
        user agent/assistive technology combinations
        currently in use.
          </p>
        <p>
        The editors welcome feedback and suggestions
        on alternative ways to represent 
        this hidden alternative content
        in a way consistent with user agent and accessibility API implementations.
      </p>
      </div>
      
      <div class="ednote">
        <p>
          The definition of hidden elements used here is
          more complex than that currently suggested 
          in the Core mapping document [[CORE-AAM]].
          The CORE-AAM spec implies that invisible elements (<code>visibility: hidden</code>)
          would be treated equivalent to un-rendered elements (<code>display: none</code>).
        </p>
        <p>
          For SVG, this is not always appropriate.
          In many cases, the invisible hidden elements are of semantic importance
          (because they are interactive)
          while visible elements are presentational only.
          For example, large invisible elements are often used 
          to provide easy-to-hit targets for points in a map or datachart.
          Because these elements react to pointer events,
          they are effectively perceivable to pointer users,
          and should be perceivable and interactive to
          users of assistive technologies as well.
        </p>
        <p>
          The editors of this document will be coordinating
          with the editors of CORE-AAM to develop 
          clear and universal guidance.  
          Feedback from authors and implementers is appreciated.
        </p>
      </div>
    </section>
    
    <section id="include_elements">
      <h4>Including Elements in the Accessibility Tree</h4>
      <p>
        Any rendered SVG element may have semantic meaning.
        Authors indicate the significance of the element by including
        alternative text content or 
        <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> attributes.
        
      </p>
      <p>
        SVG user agents <strong class="rfc2119">MUST</strong> provide 
        an accessible object in the accessibility tree 
        for rendered SVG elements that meet any of the following criteria:
      </p>
      <ul>
        <li>
          It has at least one direct child 
          <span class="element-name">‘<a href="http://www.w3.org/TR/SVG2/struct.html#TitleElement"><span>title</span></a>’</span> element
          or
          <span class="element-name">‘<a href="http://www.w3.org/TR/SVG2/struct.html#DescElement"><span>desc</span></a>'</span> element.
        </li>
        <li>
          It has a non-empty 
          <span class="attr-name">‘<a class="property-reference" href="#aria-label"><span>aria-label</span></a>’</span> attribute, 
          <span class="attr-name">‘<a class="property-reference" href="#aria-labelledby"><span>aria-labelledby</span></a>’</span> attribute, 
          or 
          <span class="attr-name">‘<a class="property-reference" href="#aria-describedby"><span>aria-describedby</span></a>’</span> attribute.
        </li>
        <li>
          It has a non-empty
          <span class="attribute-name">'<a href="http://www.w3.org/TR/SVG2/struct.html#SVGElementTabindexAttribute"><span>tabindex</span></a>'</span> attribute.
        </li>
        <li>
          The author has provided an allowed, non-abstract 
          <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> role
          other than <code title="attr-aria-role-none">none</code>
          or <code title="attr-aria-role-presentation">presentation</code>.
        </li>
        <li>
          It meets any of the criteria listed in the section 
          <a href="#include_elements" class="core-mapping">Including Elements in the Accessibility Tree</a> 
          of the Core Accessibility API Mappings specification [[!CORE-AAM]].      
        </li>
      </ul>
      <div class="note">
        <p>
        At the time of drafting this document, 
        those criteria are as follows:
          <!-- Please confirm whether update is required
              when re-publishing! -->
        </p>
        <ul>
          <li>Text elements</li>
          <li>Elements that may fire an accessibility <abbr title="Application Program Interface">API</abbr> <a class="termref">event</a></li>
          <li>Elements that are focusable, or have an ID <a class="termref">attribute</a> and an ancestor with the <a class="property-reference" href="#aria-activedescendant"><code>aria-activedescendant</code></a> attribute that matches the implicit or explicit <a class="termref">semantics</a> of the required context role. In either case, the element may receive focus and need to fire a<code> FOCUS </code>event.</li>
          <li>Elements that have a mappable role in the role attribute string (see <a class="core-mapping" href="#mapping_role">Role Mapping</a>). </li>
          <li>Elements that have a global <abbr title="Accessible Rich Internet Application">WAI-ARIA attribute </abbr> but do not have <a class="property-reference" href="#aria-hidden"><code>aria-hidden</code></a><code>=&quot;true&quot;</code>. (See  <a class="core-mapping" href="#exclude_elements2">Excluding Elements in the Accessibility Tree</a> for additional guidance on <code>aria-hidden</code>.)</li>
          <li>Elements that have an ID which is referenced by another element via a <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> relation (<a class="property-reference" href="#aria-controls"><code>aria-controls</code></a>, <a class="property-reference" href="#aria-describedby"><code>aria-describedby</code></a>, <a class="property-reference" href="#aria-flowto"><code>aria-flowto</code></a>, <a class="property-reference" href="#aria-labelledby"><code>aria-labelledby</code></a> or <a class="property-reference" href="#aria-owns"><code>aria-owns</code></a>) and are not <a class="termref">hidden</a>.
          </li>
        </ul>
        <p>
          The latest version of the source document [[CORE-AAM]]
          should be consulted for the normative text.
        </p>
        <p>
        The exception for hidden elements means that 
        SVG metadata elements or other non-rendered content
        may be used in the accessible name and description
        of another element without themselves being included
        in the accessiblity tree.
        For example, current best practice 
        for fallback browser support
        is to use <code>aria-labelledby</code> and <code>aria-describedby</code> 
        to redundantly link to
        <code>title</code> and <code>desc</code> child elements.
        Including these elements as separate nodes in the tree
        would unnecessarily complicate the document
        presented to screen reader users.
        </p>
      </div>
      <p>
        Interactive elements are covered by the requirement
        regarding elements that may fire an Accessibility API event.
        For SVG, this specifically means that
        elements that would normally be included in the accessibility tree
        except for the fact they are invisible
        (e.g., because of the <code>visibility: hidden</code> style property,
        or a combination of <code>fill: none</code>
        and <code>stroke: none</code> for shapes or text)
        should nonetheless be included in the accessibility tree
        if they can receive user input events.
        Particular examples to consider:
      </p>
      <ul>
        <li>
          A rendered but invisible element 
          with certain values for the
          <a href="https://svgwg.org/svg2-draft/interact.html#PointerEventsProperty"><code>pointer-events</code></a> property
          (<code>bounding-box</code>,
          <code>painted</code>,
          <code>fill</code>,
          <code>stroke</code>, or
          <code>all</code>)
          may receive pointer events,
          according to the rules for that property.
        </li>
        <li>
          A rendered but invisible element 
          with a non-empty value 
          for the <code>tabindex</code> attribute
          may receive keyboard focus and therefore keyboard input events.
        </li>
      </ul>
      <p>
        Elements that are interactive in either of these ways
        MUST be included in the accessbility tree.
      </p>
      <p>
        A container element that is itself hidden 
        (e.g., via the <code>visibility</code> property)
        may have children that are visible
        and/or can receive events.
        If the child elements would otherwise be excluded from the accessibility tree
        because they lack semantic information,
        the nearest ancestor element that meets the criteria for inclusion
        SHOULD instead be treated as if it was visible or was able to receive events.
        Similarly, a <code>use</code> element may include
        visible or interactive component graphics, 
        despite having style properties that would cause
        an individual shape element to be hidden.
        The <code>use</code> element SHOULD be considered visible or interactive 
        if any of its re-used content is visible or interactive.
      </p> 
      <p class="note">
        The <code>tabindex</code> attribute 
        and the <code>pointer-events</code> property
        have no impact on elements which are not rendered at all,
        because of the <code>display: none</code> property
        or because of host language semantics.
      </p>
    </section>
  </section>
  </section>
  
	<section id="mapping_conflicts">
		<h3>Conflicts between native markup semantics and <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr></h3>
    <p>
      <abbr title="Scalable Vector Graphics">SVG</abbr> user agents 
      <span class="rfc2119">MUST</span> conform to 
      <a class="core-mapping" href="#mapping_conflicts">Conflicts between native markup semantics and WAI-ARIA</a> in [[!CORE-AAM]] 
      where the host language is [[SVG]]
      and the native semantics are as described in
      the <a href="#mapping_role_table">SVG Element Mapping Table</a>, 
      the <a href="#mapping_state-property">State and Property Mapping</a> section,
      and the <a href="#mapping_additional">Special Processing Requiring Additional Computation</a> section. 
    </p>
  </section>
  
	<section id="mapping_nodirect">
		<h3>Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties</h3>
    <p>
      SVG user agents <span class="rfc2119">MUST</span> conform to <a class="core-mapping" href="#mapping_nodirect">Exposing attributes that do not directly map to accessibility <abbr title="application programming interface">API</abbr> properties</a> in [[!CORE-AAM]].
    </p>
	</section>
  
	<section id="mapping_role">
		<h2>Role mapping</h2>
		<p>
      Platform <a class="termref" href="#dfn-accessibility-api">accessibility <abbr title="Application Programming Interfaces">APIs</abbr></a> 
      traditionally have had a finite set of 
      predefined <a href="#dfn-role" class="termref">roles</a> that are expected 
      by <a class="termref" href="#dfn-assistive-technologies">assistive technologies</a> 
      on that platform and only one or two roles may be exposed.
    </p>
    <p>
      <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> 
      only supports one active role at a time.
      However, multiple roles may be specified 
      as an ordered set of space-separated valid role tokens. 
      The additional roles are fallback roles, 
      similar to the concept of specifying multiple font families 
      in case the first choice font is not supported.
      This allows the role taxonomy to be extended
      in future for specialized applications.
      The entire role string is exposed to accessibility technologies
      where possible,
      so they can respond appropriately 
      even if there is no equivalent role in the platform <abbr title="Application Programming Interfaces">API</abbr>.
    </p>
    
    <section id="roleMappingGeneralRules">
      <h3>General Rules</h3>
      <p>
        [[SVG]] user agents <span class="rfc2119">MUST</span> conform to the Role Mapping <a class="core-mapping" href="#mapping_general">General Rules</a> accessibility API computational requirements in [[!CORE-AAM]].
      </p>
    </section>
    
    <section id="mapping_role_table">
      <h3>SVG Element Mapping Table</h3>
      <p>
        This section defines how elements in SVG2 
        map to WAI-ARIA roles and platform accessibility APIs 
        based on their native host language semantics,
        including which WAI-ARIA roles may be applied. 
        This section refers directly to both the 
        <a class="core-mapping" href="#mapping_role_table"><code>Role Mappings</code></a>
        in the Core Accessibility API Mappings [[!CORE-AAM]] specification and the <a class="graphics-mapping" href="#mapping_role_table"><code>Role Mappings</code></a> in the Graphics Accessibility API Mappings [[!GRAPHICS-AAM]] specification,
        which define how WAI-ARIA roles are mapped to platform accessibility APIs. 
      </p>
<div class="table-container">
<table class="map-table elements" id="role-mapping-table">
<caption>
  Table describing mapping of <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> roles 
  to accessibility <abbr title="application programming interfaces">APIs</abbr>.
  </caption>
<thead>
<tr>
  <th>SVG Element</th>
  <th>
    Default Platform 
    <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Role Mappings
  </th>
  <th>
    Allowed <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Roles
    and Platform <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> Role Mappings
  </th>
</tr>
</thead>
<tbody>
<tr id="role-map-a">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/linking.html#AElement"><code>a</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-link"><code>link</code></a>
  </td>
  <td>
    any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>
    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-animate">
  <th>
    <a class="element-reference" href="https://svgwg.org/specs/animations/#AnimateElement"><code>animate</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>  
  <td>no role may be applied</td>  
</tr>
<tr id="role-map-animatemotion">
  <th>
    <a class="element-reference" href="https://svgwg.org/specs/animations/#AnimateMotionElement"><code>animateMotion</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td> 
</tr>
<tr id="role-map-animatetransform">
  <th>
    <a class="element-reference" href="https://svgwg.org/specs/animations/#AnimateTransformElement"><code>animateTransform</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-audio">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/embedded-content-0.html#the-audio-element"><code>audio</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-audio">the HTML audio element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>              
  <td>
    <a class="core-mapping" href="#role-map-application"><code title="attr-aria-role-application">application</code></a> role
  </td>
</tr>
<tr id="role-map-canvas">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/scripting-1.html#the-canvas-element"><code>canvas</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-canvas">the HTML canvas element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>
   <td>
     any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-circle">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#CircleElement"><code>circle</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-clippath">
  <th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-css-masking-20121115/#ClipPathElement"><code>clipPath</code></a></th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-cursor">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/interact.html#CursorElement"><code>cursor</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-defs">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#DefsElement"><code>defs</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created,
    for this element or any child content
  </td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-desc">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#DescElement"><code>desc</code></a>
  </th>
  <td>
    no <a class="termref" data-lt="accessible object">accessible object</a> created; see <a href="#mapping_additional_nd">Name and Description</a> mapping
  </td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-discard">
  <th>
    <a class="element-reference" href="https://svgwg.org/specs/animations/#DiscardElement"><code>discard</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-ellipse">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#EllipseElement"><code>ellipse</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>

  </td>
</tr>
<tr id="role-map-feblend">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feBlendElement"><code>feBlend</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feColorMatrix">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feColorMatrixElement"><code>feColorMatrix</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feComponentTransfer">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feComponentTransferElement"><code>feComponentTransfer</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feComposite">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feCompositeElement"><code>feComposite</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feConvolveMatrix">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feConvolveMatrixElement"><code>feConvolveMatrix</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fediffuselighting">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feDiffuseLightingElement"><code>feDiffuseLighting</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fedisplacementmap">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feDisplacementMapElement"><code>feDisplacementMap</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fedistantlight">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feDistantLightElement"><code>feDistantLight</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fedropshadow">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feDropShadowElement"><code>feDropShadow</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feflood">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feFloodElement"><code>feFlood</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fefunca">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feFuncAElement"><code>feFuncA</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fefuncb">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feFuncBElement"><code>feFuncB</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fefuncg">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feFuncGElement"><code>feFuncG</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fefuncr">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feFuncRElement"><code>feFuncR</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fegaussianblur">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feGaussianBlurElement"><code>feGaussianBlur</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feimage">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feImageElement"><code>feImage</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-femerge">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feMergeElement"><code>feMerge</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-femergeNode">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#femergenode"><code>feMergeNode</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-femorphology">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#femorphology"><code>feMorphology</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feoffset">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feoffset"><code>feOffset</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fepointlight">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#fePointLightElement"><code>fePointLight</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fespecularlighting">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#fespecularlighting"><code>feSpecularLighting</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fespotlight">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feSpotLightElement"><code>feSpotLight</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-fetile">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#fetile"><code>feTile</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-feturbulence">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#feturbulence"><code>feTurbulence</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-filter">
<th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-filter-effects-20121025/#filter"><code>filter</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-foreignobject">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/embedded.html#ForeignObjectElement"><code>foreignObject</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-group"><code title="attr-core-role-map-group">group</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-g">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#GElement"><code>g</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-group"><code title="attr-core-role-map-group">group</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>

  </td>
</tr>
<tr id="role-map-hatch">
<th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#HatchElement"><code>hatch</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-hatchpath">
<th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#HatchpathElement"><code>hatchPath</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-iframe">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/embedded-content-0.html#the-iframe-element"><code>iframe</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-iframe">the HTML iframe element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>
  <td>
    <a class="core-mapping" href="#role-map-application"><code title="attr-aria-role-application">application</code></a>, <a class="core-mapping" href="#role-map-document"><code title="attr-aria-role-document">document</code></a>, <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a>
  </td>
</tr>
<tr id="role-map-image">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/embedded.html#ImageElement"><code>image</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-line">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#LineElement"><code>line</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-lineargradient">
<th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#LinearGradientElement"><code>linearGradient</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-marker"><th><a class="element-reference" href="http://www.w3.org/TR/SVG2/painting.html#MarkerElement"><code>marker</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-mask"><th><a class="element-reference" href="http://www.w3.org/TR/2012/WD-css-masking-20121115/#MaskElement"><code>mask</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-mesh"><th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#MeshElement"><code>mesh</code></a></th>
<td>
   <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>
    any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
</td>
</tr>
<tr id="role-map-meshpatch"><th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#MeshpatchElement"><code>meshPatch</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-meshrow"><th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#MeshrowElement"><code>meshRow</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-metadata"><th><a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#MetadataElement"><code>metadata</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-mpath"><th><a class="element-reference" href="https://svgwg.org/specs/animations/#MPathElement"><code>mpath</code></a></th>
<td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
<td>no role may be applied</td>
</tr>
<tr id="role-map-path">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/paths.html#PathElement"><code>path</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-pattern">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#PatternElement"><code>pattern</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created,
    for this element or any child content</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-polygon">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#PolygonElement"><code>polygon</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-polyline">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#PolylineElement"><code>polyline</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-radialgradient">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#RadialGradientElement"><code>radialGradient</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-rect">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/shapes.html#RectElement"><code>rect</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created 
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-script">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/interact.html#ScriptElement"><code>script</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-set">
  <th>
    <a class="element-reference" href="https://svgwg.org/specs/animations/#SetElement"><code>set</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-solidcolor">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#SolidcolorElement"><code>solidColor</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-source">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/embedded-content-0.html#the-source-element"><code>source</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-source">the HTML source element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-stop">
  <th><a class="element-reference" href="http://www.w3.org/TR/SVG2/pservers.html#StopElement"><code>stop</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-style">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/styling.html#StyleElement"><code>style</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-svg">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#SVGElement"><code>svg</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-group"><code title="attr-aria-role-group">group</code></a>
    <p class="note">
      The group role is used as a generic container;
      this default may be replaced by one of the new roles
      proposed in the ARIA Graphics module.
      Further work is required to determine the most appropriate
      role mapping for each platform API.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-switch">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#SwitchElement"><code>switch</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-symbol">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#SymbolElement"><code>symbol</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created,
    for this element or any child content</td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-text">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/text.html#TextElement"><code>text</code></a>
  </th>
  <td>    
    <a class="core-mapping" href="#role-map-group"><code title="attr-aria-role-group">group</code></a> role, 
    but with the following platform-specific API mappings:
    <dl>
<!--      <dt><a href="https://msdn.microsoft.com/en-us/library/dd373608%28v=VS.85%29.aspx"><abbr title="Microsoft Active Accessibility">MSAA</abbr></a> + <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd561898%28v=vs.85%29.aspx"><abbr title="User Interface Automation">UIA</abbr> Express</a></dt>
                      <dd>
                          <span class="type">Role: </span><code>ROLE_SYSTEM_TEXT</code>
                        </dd>
-->
        <dt><a href="https://msdn.microsoft.com/en-us/library/dd373608%28v=VS.85%29.aspx"><abbr title="Microsoft Active Accessibility">MSAA</abbr></a> + <a href="http://accessibility.linuxfoundation.org/a11yspecs/ia2/docs/html/">IAccessible2</a></dt>
                    <dd>
                      <span class="type">Role: </span>
                      <code>IA2_ROLE_PARAGRAPH</code>
                    </dd>
                    <dd>
                      <span class="type">Interfaces: </span>
                      <code>IAccessibleText2</code>; <code>IAccessibleHypertext2</code>
                    </dd>
                  <dt><a href="https://msdn.microsoft.com/en-us/library/ms726297%28v=VS.85%29.aspx"><abbr title="User Interface Automation">UIA</abbr></a></dt>
                      <dd>
                        <span class="type">Control Type: </span><code>Text</code></dd>
                      <dt><a href="https://developer.gnome.org/atk/stable/">ATK</a></dt>
                    <dd>
                      <span class="type">Role: </span>
                      <code>ATK_ROLE_SECTION</code>
                    </dd>
                    <dd>
                      <span class="type">Interfaces: </span>
                      <code>AtkText</code>; <code>AtkHypertext</code>
                      </dd>
        <dt><a href="https://developer.apple.com/library/mac/documentation/AppKit/Reference/NSAccessibility_Protocol_Reference">AX</a></dt>
        <dd>
                          <span class="type">AXRole: </span><code>AXGroup</code>
                    </dd>
                    <dd>
                          <span class="type">AXSubrole: </span><code>(nil)</code>
                    </dd>
                    <dd> 
                          <span class="type">AXRoleDescription: </span><code>"group"</code>
          </dd>
    
    </dl>
    <p class="note">
      The platform mappings given above are the same
      as those recommended for <a class="html-mapping" href="#el-p">the HTML p element</a>
      in the HTML Accessibility API Mappings specification [[HTML-AAM]].
      There is currently no WAI-ARIA role available
      that defines a distinct text block.
      However, such roles (denoting paragraphs or distinct text regions) exist in many platform accessibility APIs
      and are therefore used instead of a generic group role.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-textpath">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/text.html#TextPathElement"><code>textPath</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-group"><code title="attr-aria-role-group">group</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created, 
    but changes in text styling SHOULD be exposed through
    properties of the parent text element where supported
    <p class="ednote">
      The use of the group role here is that of generic container 
      for a span of text content which forms a distinct object
      (either because it
      has supplementary alternative text labels or descriptions
      or because it is interactive). 
      More work is required to address whether 
      text-specific platform accessibility API roles
      can more effectively serve this function.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-title">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#TitleElement"><code>title</code></a>
  </th>
  <td>
    no <a class="termref" data-lt="accessible object">accessible object</a> created; see <a href="#mapping_additional_nd">Name and Description</a> mapping
  </td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-track">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/embedded-content-0.html#the-track-element"><code>track</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-track">the HTML track element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>
  <td>no role may be applied</td>
</tr>
<tr id="role-map-tspan">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/text.html#TextElement"><code>tspan</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-group"><code title="attr-aria-role-group">group</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created, 
    but changes in text styling SHOULD be exposed through
    properties of the parent text element where supported
    <p class="ednote">
      The use of the group role here is that of generic container 
      for a span of text content which forms a distinct object
      (either because it
      has supplementary alternative text labels or descriptions
      or because it is interactive). 
      More work is required to address whether 
      text-specific platform accessibility API roles
      can more effectively serve this function.
    </p>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-use">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#UseElement"><code>use</code></a>
  </th>
  <td>
    <a class="core-mapping" href="#role-map-img"><code title="attr-aria-role-img">img</code></a> role mapping
    if the element meets the criteria for <a href="#include_elements">Including Elements in the Accessibility Tree</a>;
    otherwise, no <a class="termref" data-lt="accessible object">accessible object</a> created; 
    see <a href="#mapping_additional_nd">Name and Description</a> mapping for special rules for <code>use</code> elements
    <p class="note">
      If a symbol role is introduced, as proposed by the ARIA graphics module,
      it would become the default mapping where supported;
      further work is required to determine how this role
      would map to platform APIs.
    </p>
    <div class="ednote">
      <p>
        As currently proposed by this specification,
        the re-used graphical elements 
        would not be exposed directly,
        although they can affect
        the name and description calculation.
      </p>      
      <p>
        This is reflected in the default roles.
        Both the <code>img</code> role 
        and proposed <code>graphics-symbol</code> role
        create atomic objects; any child content is assumed presentational.
        Assigning these roles to a <code>use</code> element
        implies that the graphic drawn with that element
        is accessible only as a single entity,
        not as distinct component parts.
      </p>
      <p>
        This is consistent with most SVG content
        containing <code>use</code> elements,
        for which the re-used graphic is a simple icon or image.
        It is also consistent with the desire to simplify
        the accessibility tree as much as possible.
      </p>
      <p>
        However, it is not consistent with models 
        in the SVG specifications 
        that allow individual cloned graphic components
        to receive and propagate user input (pointer) events.
        The SVG 1.1 specifications [[SVG11]] defined
        a <a href="http://www.w3.org/TR/SVG11/struct.html#UseElement">non-exposed document tree</a> 
        consisting of SVGElementInstance objects 
        which could be the targets of pointer events
        handled by event handlers on the <code>use</code> or an ancestor element;
        keyboard accessibility was not considered.
      </p>
      <p>
        At the time of writing, the SVG 2 specifications [[SVG]]
        propose significantly overhauling this model
        in favour of one based on the Shadow DOM specification [[SHADOW-DOM]].
        The full impact of this change on event handling
        and accessiblity, particularly keyboard accessibility,
        has not yet been explored.
      </p>
      <p>
        In order to support a complex and interactive shadow DOM, 
        special processing rules would be required
        to generate an accessibility subtree 
        representing the cloned content.
        Two options would then be available:
      </p>
      <ul>
        <li>
          continue to use the <code>img</code>/<code>graphics-symbol</code> roles by default,
          and therefore only create a cloned subtree 
          if the author specifically assigns a different role, or
        </li>
        <li>
          use a different default role 
          such as <code>group</code> or the proposed <code>graphics-object</code>,
          which support complex child content.
        </li>
      </ul>
      <p>Any changes would also have an impact
        on the appropriate treatment of <code>use</code>
        references in the
        <a href="#mapping_additional_nd">Name and Description</a> computation; 
        see the note in that section for more issues.
      </p>
      <p>
        The editors welcome feedback about 
        the appropriate default and possible behaviors,
        and would be particularly interested in any practical examples
        of complex re-used content where a cloned DOM
        needs to be available to assistive technologies
        to ensure accessibility.
      </p>
    </div>
  </td>
  <td>
   any role;
    see the <a class="core-mapping" href="#mapping_role_table"><code>Core Accessibility API Role Mappings</code></a>    and the <a class="graphics-mapping" href="#mapping_role_table"><code>Graphics Accessibility API Role Mappings</code></a>
  </td>
</tr>
<tr id="role-map-video">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/html5/embedded-content-0.html#the-video-element"><code>video</code></a>
  </th>
  <td>
    Follow the recommendations for <a class="html-mapping" href="#el-video">the HTML video element</a>
      in the HTML Accessibility API Mappings specification [[!HTML-AAM]].
  </td>
  <td>
    <a class="core-mapping" href="#role-map-application"><code title="attr-aria-role-application">application</code></a> role
  </td>
</tr>
<tr id="role-map-view">
  <th>
    <a class="element-reference" href="http://www.w3.org/TR/SVG2/linking.html#ViewElement"><code>view</code></a>
  </th>
  <td>no <a class="termref" data-lt="accessible object">accessible object</a> created;
    see the section <a href="#mapping_view">SVG views</a> 
    for special processing requirements
  </td>
  <td>no role may be applied</td>
</tr>

</tbody>
</table>
</div>
      </section>
  </section>

	<section id="mapping_state-property">
		<h2>State and Property Mapping</h2>
	  <p>
      This section describes how to expose <abbr title="Accessible Rich Internet Applications">WAI-ARIA</abbr> <a href="#dfn-state" class="termref">states</a> and <a href="#dfn-object" class="termref">object</a> <a href="#dfn-property" class="termref">properties</a>. SVG user agents <span class="rfc2119">MUST</span> conform to the <a href="#mapping_state-property" class="core-mapping">State and Property Mapping</a> accessibility API computational requirements in [[!CORE-AAM]].
    </p>
    <p>
      In addition, the following attributes on SVG elements 
      require special processing:
    </p>
    <ul>
      <li>
        <code>controls</code>
        on a <a class="element-reference" href="http://www.w3.org/TR/SVG2/embedded.html#HTMLElements"><code>audio</code></a>
        or <a class="element-reference" href="http://www.w3.org/TR/SVG2/embedded.html#HTMLElements"><code>video</code></a> element
        is interpretted as defined in the 
        <a class="html-mapping" href="#html-attribute-state-and-property-mappings">HTML Attribute State and Property Mappings</a> [[!HTML-AAM]].
      </li>
      <li>
        <code>href</code> or <code>xlink:href</code>
        on a <a class="element-reference" href="http://www.w3.org/TR/SVG2/struct.html#UseElement"><code>use</code></a> element 
        affects the accessible <a href="#mapping_additional_nd">Name and Description</a> computation.
      </li>
      <li>
        <code>tabindex</code>
        on a rendered element (whether visible or not)
        is interpretted as defined in the 
        <a class="html-mapping" href="#html-attribute-state-and-property-mappings">HTML Attribute State and Property Mappings</a> [[!HTML-AAM]].
      </li>
      <li>
        <code>viewTarget</code> 
        on a <a class="element-reference" href="http://www.w3.org/TR/SVG2/linking.html#ViewElement"><code>view</code></a> element
        creates an <code>aria-flowto</code> relationship 
        on the associated <code>svg</code> element when the view is active,
        as defined in the <a href="#mapping_view">SVG views</a> section.
      </li>
      <li>
        <code>xlink:title</code>
        on a link element
        affects the accessible <a href="#mapping_additional_nd">Name and Description</a> computation.
      </li>
    </ul>
      <p>
        The <code>xlink</code> prefix is used here to refer to the
        XLink namespace, <code>http://www.w3.org/1999/xlink</code>.
        Attributes of the given names in that namespace should be
        processed as described here, 
        regardless of how the namespace is applied in markup or via script.
        XLink-namespaced attributes are deprecated in SVG 2 [[SVG]],
        but user agents are still expected to process them,
        to maintain backwards compatibility.
        Nonetheless, SVG 2 <a href="https://svgwg.org/svg2-draft/linking.html#XLinkRefAttrs">requires that</a> the <code>href</code> attribute in the default namespace
        takes precedence over the XLink equivalent
        if both are set on a given element. 
        In that case, the XLink version is not valid 
        for the purpose of the name and description computation.
      </p>
    
    <p>
      The effective attribute for a given element,
      and therefore the state and property mapping,
      may be affected by declarative animation
      as described in the <a href="#mapping_animation">Animation</a> section.
    </p> 
	</section>
  
	<section id="mapping_additional">
    <h2>Special Processing Requiring Additional Computation</h2>
    <section id="mapping_additional_nd">
      <h3>Name and Description</h3>
      <p>
        When computing an <a class="termref">accessible name</a> or 
        <a class="termref">accessible description</a>, 
        <a class="termref" data-lt="user agent">user agent</a>s MUST conform 
        to the section titled 
        <a class="accname" href="#mapping_additional_nd_te">Text Alternative Computation</a> of the [[!ACCNAME-AAM]] specification,
        with the following modifications for the SVG host language:
      </p>
      <ol>
        <li>
          Replace <a class="accname" href="#step2A">step 2A</a> with the following:
          <blockquote>
            If the current node traversal is <em>not</em> 
            a result of following <code>aria-labelledby</code>, <code>aria-describedby</code>
            or a <code>use</code> element reference,
            and the current node is not included in the accessibility tree
            according to the rules in
            <a href="#exclude_elements">Excluding Elements from the Accessibility Tree</a>
            and <a href="#include_elements">Including Elements in the Accessibility Tree</a>, 
            return the empty string.
          </blockquote>
        </li>
        <li>
          Replace <a class="accname" href="#step2D">step 2D</a> with the following: 
          <blockquote>
            <p>
              Otherwise, if performing a text alternative computation for an accessible name:
            </p>  
            <ul>
              <li>
                If the current node has at least one direct child <code>title</code> element,
                select the appropriate title 
                based on the language rules for the SVG specification,
                and return the title text alternative as a flat string.
              </li>
              <li>
                If the current node is a link,
                and there was no child <code>title</code> element,
                but it has an <code>xlink:title</code> attribute,
                return the value of that attribute.
              </li>
              <li>
                If the current node is a <code>use</code> element,
                and there was no child <code>title</code> element,
                but it has a valid <code>href</code> or <code>xlink:href</code> attribute
                pointing to another element in the same document,
                set the current node to the referenced element
                and compute the text alternative from step 2
                as if that element had been referenced with <code>aria-labelledby</code>.
              </li>
            </ul>
            <p>
              If performing a text alternative computation for an accessible description:
            </p>
            <ul>
              <li>
                If the current node has at least one direct child <code>desc</code> element,
                select the appropriate description 
                based on the language rules for the SVG specification,
                and return the concatenated text content of the description.
              </li>
              <li>
                If the current node is a <code>use</code> element,
                and there was no child <code>desc</code> element,
                but it has a valid <code>href</code> or <code>xlink:href</code> attribute
                pointing to another element in the same document,
                set the current node to the referenced element
                and compute the text alternative from step 2
                as if that element had been referenced with <code>aria-describedby</code>.
              </li>
            </ul>
          </blockquote>
        </li>
        <li>
          In <a class="accname" href="#step2F">step 2F</a>, 
          modify <a class="accname" href="#step2F.ii">step iii</a>
          by replacing:
          <blockquote>
            <p>For each child node of the current node:</p>
          </blockquote>
          with
          <blockquote>
            <p>If the element is a text container element,
              for each child node of the current node:
            </p>
          </blockquote>
        </li>
        <li>
          Replace <a class="accname" href="#step2H">step 2H</a> with the following:
          <blockquote>
            <p>
              Otherwise, if performing a text alternative computation for an accessible description,
              and the current node has at least one direct child <code>title</code> element,
              but the title elements were <em>not</em> used 
              when generating the accessible name for the node,
              then select the appropriate title 
              based on the language rules for the SVG specification,
              and return the title text content as the description.
            </p>
          </blockquote>
        </li>
      </ol>
<!--
      <div class="note">
        <p>
        The final procedure for determining the accessible name,
        after incorporating the above changes,
        can be summarized as follows:
        </p>
        <ol style="list-style: decimal">
          <li><p>
            Start with the element you wish to determine the name for, and an empty name string.
          </p></li>
          <li><p>
          For every element or text node you process, 
            do the following:
            <ol style="list-style: upper-alpha">
              <li><p>
                If the node is not itself included in the accessibility tree,
                and has <em>not</em> been specifically referenced by id 
                from another element, skip over it.
              </p></li>
              <li><p>
                Otherwise, if the node has an <code>aria-labelledby</code> attribute,
                create a name by concatenating the names
                (separated by spaces)
                generated by processing (running step 2 for)
                each element, in order, whose ID is referenced in that attribute.
                When processing those referenced elements, 
                skip this step 
                (i.e., ignore <code>aria-labelledby</code>
                on those elements).
              </p></li>
              <li><p>
                Otherwise, if the node has an <code>aria-label</code> attribute,
                use the attribute's text value as the name
                <em>unless</em> 
                this element has a widget role
                and is <em>not</em> the element for which the name is being determined (in which case follow 2E).
              </p></li>
              <li><p>
                Otherwise, use the text content of this element's
                <code>title</code> element (in the user's preferred language where language options exist)
                <em>OR</em> the <code>xlink:title</code>
                attribute value (if this element is a link)
                <em>OR</em> (if this is a <code>use</code> element)
                run the step 2 process
              </p></li>
              <li><p>
              </p></li>
            </ol>
          </p></li>
        </ol>
      
      </div>
  -->
      <div class="note">
        <p>
          The net effect of these changes is to establish the following priority
          of alternative text values for the accessible name:
        </p>
        <ol>
          <li><code>aria-labelledby</code></li>
          <li><code>aria-label</code></li>
          <li>a direct child <code>title</code> element</li>
          <li><code>xlink:title</code> attribute</li>
          <li>
            for a <code>use</code> element, 
            the accessible name calculated for the re-used content
          </li>
          <li>
            for text container elements,
            the text content
          </li>
        </ol>
        <p>
          The alternative text values for the accessible description
          have the following priority:
        </p>
        <ol>
          <li><code>aria-describedby</code></li>
          <li>a direct child <code>desc</code> element</li>
          <li>
            for a <code>use</code> element, 
            the accessible description calculated for the re-used content
          </li>
          <li>
            for text container elements,
            the text content
          </li>
          <li>
            a direct child <code>title</code> element
            that provides a tooltip, 
            when ARIA label attributes are used 
            to provide a different accessible name
          </li>
        </ol>
        <p>
          The <code>aria-labelledby</code> and <code>aria-describedby</code> properties
          can reference the element on which they are given,
          in order to concatenate one of the other text alternatives
          with text from a separate element.
        </p>
      </div>
      <div class="ednote">
        <p>One of the effects of the given procedure
          is that descriptive text and labels
          provided for <code>use</code> elements
          <em>replace</em> the equivalent alternative text
          provided for the source graphics.
          If an author wished to combine descriptions
          for the general and specific instances,
          an <code>aria-labelledby</code> or
          <code>aria-describedby</code> attribute
          would need to explicitly point
          to both the source graphic and the
          <code>use</code> instance.
        </p>
        <p>
          A simple example would be as follows:
        </p>
        <pre class='example'>
  &lt;defs>
    &lt;circle id="c" r="1cm">
      &lt;desc>A 1cm-radius circle&lt;/desc>
    &lt;/circle>
  &lt;/defs>
  &lt;use href="#c" id="rc" style="fill:red"
       aria-describedby="c rc">
    &lt;title>Warning!&lt;/title>
    &lt;desc>colored red&lt;/desc>
  &lt;/use>
        </pre>
        <p>
          The <code>use</code> element would have
          the accessible name "Warning!"
          (and would therefore be identified
          as a "Warning! image" or "Warning! symbol")
          and would have the accessible description
          "A 1cm-radius circle colored red".
          The original circle and the <code>defs</code> element,
          which are never directly rendered,
          would not be exposed in the accessibility tree.
        </p>
        <p>
          An alternative approach would be to make
          the implicit labelling/description relationship
          between the <code>use</code> element and its source graphic
          be in <em>addition</em> to any labels or descriptions
          specified for the instance.
          If that approach were chosen,
          a decision would need to be made about the
          appropriate order in which to concatenate
          the two values:
          specific first, then general,
          or general then specific (as in the example)?
        </p>
        <p>
          Alternatively, if the re-used graphic
          is represented as a cloned subtree,
          as proposed in a <a href="#role-map-use">note to the <code>use</code> element role mapping</a>,
          the cloned circle, including its name and description,
          would be accessible as a child element
          of the <code>use</code>.
        </p>
      </div>
      
    </section>
    
		<section id="mapping_additional_widget-value">
			<h3>Widget Values</h3>
      <p>
        SVG user agents <span class="rfc2119">MUST</span> conform to the 
        <a href="#mapping_additional_widget-value" class="core-mapping">Widget Values</a> 
        accessibility API computational requirements in [[!CORE-AAM]].
      </p>
    </section>
    
	  <section id="mapping_additional_relations">
      <h3>Relations</h3>
      <p>
        SVG user agents <span class="rfc2119">MUST</span> conform to the 
        <a href="#mapping_additional_relations" class="core-mapping">Relations</a> 
        accessibility API computational requirements in [[!CORE-AAM]].
      </p>
      
      <p class="ednote">
        The CORE-AAM section on Relations requires that 
        assistive technologies SHOULD provide a method to navigate to (and within)
        structured content referenced by aria-describedby.
        This would be difficult to implement with the current approach of not including
        non-rendered descriptive content in the accessibility tree.
      </p>
	  </section>
    
	  <section id="mapping_additional_position">
			<h3>Group Position</h3>
      <p>SVG user agents <span class="rfc2119">MUST</span> conform to the 
        <a href="#mapping_additional_position" class="core-mapping">Group Position</a> 
        accessibility API computational requirements in [[!CORE-AAM]].
      </p>
    </section> 
    
    <section id="mapping_view">
      <h3>SVG Views</h3>
      <p>
        SVG provides authors with the means of specifying a particular 
        <a href="https://svgwg.org/svg2-draft/linking.html#LinksIntoSVG">view of the document</a>.
        A view is applied through the target fragment of the document URL,
        either by referencing the id of 
        a <a class="element-reference" href="http://www.w3.org/TR/SVG2/linking.html#ViewElement"><code>view</code></a> element,
        or by specifying a custom view using the SVG view specification fragment identifier.
      </p>
      <p>
        The visual effect of an SVG view 
        is equivalent to modifying attributes 
        on the parent <code>svg</code> element (for a <code>view</code> element)
        or the root element (for an SVG view specification fragment).
        User agents <span class="rfc2119">SHOULD</span> therefore
        modify the <a>accessible object</a> representing that <code>svg</code>
        when a view is in effect.
      </p>
      <p>
        In particular, the following changes should be made:
      </p>
      <ul>
        <li>
          If the view includes a <code>viewTarget</code> attribute,
          the <code>svg</code> element SHOULD be mapped 
          as if it had an <code>aria-flowto</code> attribute
          specifying the same list of IDREF values 
          contained in the <code>viewTarget</code> attribute.
        </li>
        <li>
          If the view is applied using a <code>view</code> element,
          compute the accessible name and description for that element,
          ignoring the fact that a <code>view</code> element is excluded from the accessibility tree.
          If the result is a non-empty string, it SHOULD replace
          the corresponding name or description for the <code>svg</code> element while the view is in effect.
        </li>
      </ul>
      <p>
        A navigation action towards a URL including an SVG view specification
        or the id of a <code>view</code> element
        <span class="rfc2119">SHOULD</span> be treated as a series of 
        property change events on the target <code>svg</code> element
        followed by navigation to that element.  
        User agents <span class="rfc2119">MAY</span> represent the property changes
        as the deletion of existing nodes followed by the insertion of modified nodes.
      </p>
      
    <div class="ednote">
      <p>
        SVG Views provide a functionality unique to SVG,
        with no direct equivalent in HTML documents.
        They may be used as the end-point of a navigation action,
        but are not themeselves a container for the targetted content.
        They may also be used at the time an SVG document is embedded,
        to subset the visual content to only include a portion of the file.
      </p>
      <p>
        The editors would be very interested in practical examples
        of SVG views in use, 
        so that we may determine if the above requirements are sufficient.
        Particular issues to consider include whether special rules are required
        for managing keyboard focus, 
        or for excluding content that is rendered offscreen
        when a view is in effect.
      </p>
      <p>
        The editors will also be examining existing behavior
        of user agent/assistive technology combinations
        when browsing SVG documents with views,
        and will be proposing author best practices accordingly.
      </p>
      <p>
        In addition, there have been proposals to deprecate
        the <code>viewTarget</code> attribute,
        and the corresponding parameter for SVG view fragments,
        in SVG 2.
        Their intended use,
        to trigger visual styling changes in the target element,
        has never been well implemented by user agents.
        Without <code>viewTarget</code>, there would be no native way in SVG to indicate
        the semantic target of a given view.
        For <code>view</code> elements
        (but not view fragments),
        a possible alternative is to encourage
        authors to directly specify <code>aria-flowsto</code> attributes.
        These would then need to be mapped to the relevant <code>svg</code> element.
      </p>
      <p>
        This raises the question of whether any other (or all) ARIA attributes
        should be mapped from the <code>view</code> element
        onto the accessible object for the <code>svg</code> element
        while the view is in effect.
        This would require careful consideration 
        of all possible consequences and conflicts.
        For example, 
        should a view be able to change the role of the SVG element?
      </p>
    </div> 
    </section>

    <section id="mapping_animation">
      <h3>Declarative Animation</h3>
      <p>
        SVG animation elements may modify element attributes and style properties.
        CSS animations may modify style properties.
        Either type of animation may be triggered by user interaction,
        or may run on a fixed schedule.
      </p>
      <p>
        If an animated change affects whether an element is rendered,
        or change whether it is visible 
        in a way that would cause it to be excluded from the accessibility tree,
        user agents <span class="rfc2119">SHOULD</span> expose the change
        according to the guidelines in the 
        <a class="core-mapping" href="#mapping_events_visibility">Changes to document content or node visibility</a> section
        of the Core Accessibility API Mappings [[!CORE-AAM]].
      </p>
      
      <div class="ednote">
        <p>
          The SVG 2 specification does not currently define
          whether WAI-ARIA states and properties are animatable
          (in other words, whether they can be temporarily modified 
          by declarative animation).
          Without support for updating ARIA states,
          it is very difficult to implement an interactive animation
          in a way that it accessible to assistive technologies.
        </p>
        <p>
          The editors of this document 
          intend to update the SVG specifications
          such that states and properties are animatable.
          In most cases, the animation would be applied
          as a discrete transition between values.
          User agents would be expected to expose such an animated change
          to accessibility APIs
          in the same way as a scripted change to the same attribute.
        </p>
        <p>
          The <code>role</code> attribute is not animatable.
        </p>
      </div>
         
    </section>
	</section>
  
  <section id="mapping_actions">
		<h2>Actions</h2>
    <p>
      SVG user agents <span class="rfc2119">MUST</span> conform to the 
      <a href="#mapping_actions" class="core-mapping">Actions</a> 
      accessibility API computational requirements in [[!CORE-AAM]].
    </p>
  </section>
  
  <section id="mapping_events">
		<h2>Events</h2>
    <p>
      <a href="#dfn-user-agent" class="termref">User agents</a> fire 
      <a href="#dfn-event" class="termref">events</a> for user actions, 
      <abbr title="Accessible Rich Internet Application">WAI-ARIA</abbr> 
      <a href="#dfn-state" class="termref">state</a> changes, 
      changes to document content or node visibility, 
      changes in selection, and operation of menus. 
      Conforming user agents <span class="rfc2119">MUST</span> support the 
      [[!CORE-AAM]] <a class="core-mapping" href="#mapping_events">Events</a> mappings.
    </p>
  </section>
  
<section id="document-handling">
	<h2>Special Document Handling Procedures</h2>
  <p>
    SVG user agents <span class="rfc2119">MUST</span> conform to the 
    <a href="#document-handling" class="core-mapping">Special Document Handling Procedures</a> 
    in [[!CORE-AAM]].
  </p>
</section>
  
<section id="appendices" class="appendix">
	<h2>Appendices</h2>
  
	<section id="appendices_references">
    <h3>References</h3>
    <p>Placeholder for references</p>
  </section>
  
	<!--<div data-include='../common/acknowledgements.html' data-include-replace='true'></div>-->
	<section class="appendix informative section" id="acknowledgements">
    <h3>Acknowledgments</h3>
    <p>The following people contributed to the development of this document.</p>
    <section class="section" id="ack_group">
      <h4>Participants active in the SVG Accessibility Task Force active at the time of publication</h4>
      <ul>
        <li>Amelia Bellamy-Royds</li>
        <li>Erik Dahlström (Opera)</li>
        <li>Amy Dai (Oracle Corporation)</li>
        <li>Fred Esch (IBM Corporation)</li>
        <li>Cameron McCormack (Mozilla Foundation)</li>
        <li>Charles Nevile (Yandex)</li>
        <li>Charu Pandhi (IBM Corporation)</li>
        <li>Janina Sajka</li>
        <li>Doug Schepers (W3C)</li>
        <li>Rich Schwerdtfeger (IBM Corporation)</li>
        <li>Léonie Watson (The Paciello Group, LLC)</li>
        <li>Jason White (Educational Testing Service)</li>
      </ul>
    </section>
    <section class="section" id="ack_funders">
      <h4>Enabling funders</h4>
      <p>
        This publication has been funded in part with 
        Federal funds from the U.S. Department of Education, 
        National Institute on Disability, Independent Living, and Rehabilitation Research (NIDILRR)
        under contract number ED-OSE-10-C-0067. 
        The content of this publication does not necessarily reflect 
        the views or policies of the U.S. Department of Education, 
        nor does mention of trade names, commercial products, or organizations 
        imply endorsement by the U.S. Government.
      </p>
    </section>
  </section>

</section>
</body>
</html>
